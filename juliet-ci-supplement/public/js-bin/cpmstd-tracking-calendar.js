!function(t){var n={};function e(a){if(n[a])return n[a].exports;var r=n[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=t,e.c=n,e.d=function(t,n,a){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:a})},e.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=3)}([function(t,n,e){"use strict";function a(t,n){for(var e=[],a={},r=0;r<n.length;r++){var i=n[r],o=i[0],s={id:t+":"+r,css:i[1],media:i[2],sourceMap:i[3]};a[o]?a[o].parts.push(s):e.push(a[o]={id:o,parts:[s]})}return e}e.r(n),e.d(n,"default",function(){return p});var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},o=r&&(document.head||document.getElementsByTagName("head")[0]),s=null,d=0,l=!1,c=function(){},A=null,v="data-vue-ssr-id",u="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(t,n,e,r){l=e,A=r||{};var o=a(t,n);return f(o),function(n){for(var e=[],r=0;r<o.length;r++){var s=o[r];(d=i[s.id]).refs--,e.push(d)}for(n?f(o=a(t,n)):o=[],r=0;r<e.length;r++){var d;if(0===(d=e[r]).refs){for(var l=0;l<d.parts.length;l++)d.parts[l]();delete i[d.id]}}}}function f(t){for(var n=0;n<t.length;n++){var e=t[n],a=i[e.id];if(a){a.refs++;for(var r=0;r<a.parts.length;r++)a.parts[r](e.parts[r]);for(;r<e.parts.length;r++)a.parts.push(w(e.parts[r]));a.parts.length>e.parts.length&&(a.parts.length=e.parts.length)}else{var o=[];for(r=0;r<e.parts.length;r++)o.push(w(e.parts[r]));i[e.id]={id:e.id,refs:1,parts:o}}}}function h(){var t=document.createElement("style");return t.type="text/css",o.appendChild(t),t}function w(t){var n,e,a=document.querySelector("style["+v+'~="'+t.id+'"]');if(a){if(l)return c;a.parentNode.removeChild(a)}if(u){var r=d++;a=s||(s=h()),n=C.bind(null,a,r,!1),e=C.bind(null,a,r,!0)}else a=h(),n=function(t,n){var e=n.css,a=n.media,r=n.sourceMap;if(a&&t.setAttribute("media",a),A.ssrId&&t.setAttribute(v,n.id),r&&(e+="\n/*# sourceURL="+r.sources[0]+" */",e+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}.bind(null,a),e=function(){a.parentNode.removeChild(a)};return n(t),function(a){if(a){if(a.css===t.css&&a.media===t.media&&a.sourceMap===t.sourceMap)return;n(t=a)}else e()}}var m,y=(m=[],function(t,n){return m[t]=n,m.filter(Boolean).join("\n")});function C(t,n,e,a){var r=e?"":a.css;if(t.styleSheet)t.styleSheet.cssText=y(n,r);else{var i=document.createTextNode(r),o=t.childNodes;o[n]&&t.removeChild(o[n]),o.length?t.insertBefore(i,o[n]):t.appendChild(i)}}},function(t,n){t.exports=function(t){var n=[];return n.toString=function(){return this.map(function(n){var e=function(t,n){var e,a=t[1]||"",r=t[3];if(!r)return a;if(n&&"function"==typeof btoa){var i=(e=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"),o=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[a].concat(o).concat([i]).join("\n")}return[a].join("\n")}(n,t);return n[2]?"@media "+n[2]+"{"+e+"}":e}).join("")},n.i=function(t,e){"string"==typeof t&&(t=[[null,t,""]]);for(var a={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(a[i]=!0)}for(r=0;r<t.length;r++){var o=t[r];"number"==typeof o[0]&&a[o[0]]||(e&&!o[2]?o[2]=e:e&&(o[2]="("+o[2]+") and ("+e+")"),n.push(o))}},n}},function(t,n,e){window,t.exports=function(t){var n={};function e(a){if(n[a])return n[a].exports;var r=n[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=t,e.c=n,e.d=function(t,n,a){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:a})},e.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=8)}([function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a,r=(a=e(4))&&a.__esModule?a:{default:a};function i(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}n.default={name:"CalendarView",mixins:[r.default],props:{showDate:{type:Date,default:function(){}},displayPeriodUom:{type:String,default:function(){return"month"}},displayPeriodCount:{type:Number,default:function(){return 1}},locale:{type:String,default:function(){}},monthNameFormat:{type:String,default:function(){return"long"}},weekdayNameFormat:{type:String,default:function(){return"short"}},showEventTimes:{type:Boolean,default:function(){return!1}},timeFormatOptions:{type:Object,default:function(){return{}}},disablePast:{type:Boolean,default:function(){return!1}},disableFuture:{type:Boolean,default:function(){return!1}},enableDragDrop:{type:Boolean,default:function(){return!1}},startingDayOfWeek:{type:Number,default:function(){return 0}},events:{type:Array,default:function(){return[]}}},data:function(){return{currentDragEvent:null}},computed:{displayLocale:function(){return this.locale||this.getDefaultBrowserLocale()},defaultedShowDate:function(){return this.showDate||this.today()},periodStart:function(){return this.beginningOfPeriod(this.defaultedShowDate,this.displayPeriodUom,this.startingDayOfWeek)},periodEnd:function(){return this.addDays(this.incrementPeriod(this.periodStart,this.displayPeriodUom,this.displayPeriodCount),-1)},displayFirstDate:function(){return this.beginningOfWeek(this.periodStart,this.startingDayOfWeek)},displayLastDate:function(){return this.endOfWeek(this.periodEnd,this.startingDayOfWeek)},weeksOfPeriod:function(){var t=this,n=Math.floor((this.dayDiff(this.displayFirstDate,this.displayLastDate)+1)/7);return Array(n).fill().map(function(n,e){return t.addDays(t.displayFirstDate,7*e)})},monthNames:function(){return this.getFormattedMonthNames(this.displayLocale,this.monthNameFormat)},weekdayNames:function(){return this.getFormattedWeekdayNames(this.displayLocale,this.weekdayNameFormat,this.startingDayOfWeek)},fixedEvents:function(){var t=this;return this.events.map(function(n){var e=[];return n.classes&&(e=Array.isArray(n.classes)?[].concat(i(n.classes)):[n.classes]),{originalEvent:n,startDate:t.toLocalDate(n.startDate),endDate:t.toLocalDate(n.endDate||n.startDate),classes:e,title:n.title||"Untitled",id:n.id||"e"+Math.random().toString(36).substr(2,10)}})}},methods:{onClickDay:function(t){this.disablePast&&this.isInPast(t)||this.disableFuture&&this.isInFuture(t)||this.$emit("click-date",t)},onClickEvent:function(t,n){this.$emit("click-event",t,n)},onClickCurrentPeriod:function(){var t=this.beginningOfPeriod(this.today(),this.displayPeriodUom,this.startingDayOfWeek);this.$emit("show-date-change",t)},getIncrementedPeriod:function(t){var n=this.incrementPeriod(this.periodStart,this.displayPeriodUom,t),e=this.incrementPeriod(n,this.displayPeriodUom,this.displayPeriodCount);return this.disablePast&&e<=this.today()?null:this.disableFuture&&n>this.today()?null:n},isPeriodIncrementAllowed:function(t){return null!==this.getIncrementedPeriod(t)},onIncrementPeriod:function(t){var n=this.getIncrementedPeriod(t);null!=n&&this.$emit("show-date-change",n)},onDragStart:function(t){return!!this.enableDragDrop&&(this.currentDragEvent=t,this.$emit("drag-start",t),!0)},handleEvent:function(t,n){return!!this.enableDragDrop&&!!this.currentDragEvent&&(this.$emit(t,this.currentDragEvent,n),!0)},onDragOver:function(t){this.handleEvent("drag-over-date",t)},onDragEnter:function(t,n){this.handleEvent("drag-enter-date",t)&&n.target.classList.add("draghover")},onDragLeave:function(t,n){this.handleEvent("drag-leave-date",t)&&n.target.classList.remove("draghover")},onDrop:function(t,n){this.handleEvent("drop-on-date",t)&&n.target.classList.remove("draghover")},findAndSortEventsInWeek:function(t){var n=this;return this.fixedEvents.filter(function(e){return e.startDate<n.addDays(t,7)&&e.endDate>=t},this).sort(function(t,n){return t.startDate<n.startDate?-1:n.startDate<t.startDate?1:t.endDate>n.endDate?-1:n.endDate>t.endDate?1:t.id<n.id?-1:1})},getWeekEvents:function(t){for(var n=this.findAndSortEventsInWeek(t),e=[],a=[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],r=0;r<n.length;r++){var o=Object.assign({},n[r],{classes:[].concat(i(n[r].classes)),eventRow:0}),s=o.startDate<t,d=s?0:this.dayDiff(t,o.startDate),l=Math.min(7-d,this.dayDiff(this.addDays(t,d),o.endDate)+1);s&&o.classes.push("continued"),this.dayDiff(t,o.endDate)>6&&o.classes.push("toBeContinued"),o.originalEvent.url&&o.classes.push("hasUrl");for(var c=0;c<7;c++)if(c===d){for(var A=0;A<20;A++)if(!a[c][A]){o.eventRow=A,a[c][A]=!0;break}}else c<d+l&&(a[c][o.eventRow]=!0);o.classes.push("offset"+d),o.classes.push("span"+l),o.classes.push("eventRow"+(o.eventRow+1)),e.push(o)}return e},getFormattedTimeRange:function(t){var n=this.formattedTime(t.startDate,this.displayLocale,this.timeFormatOptions),e=this.isSameDateTime(t.startDate,t.endDate)?"":this.formattedTime(t.endDate,this.displayLocale,this.timeFormatOptions),a=""!==n,r=""!==e;return(a?'<span class="startTime'+(r?" hasEndTime":"")+'">'+n+"</span>":"")+(r?'<span class="endTime'+(a?" hasStartTime":"")+'">'+e+"</span>":"")},getEventTitle:function(t){return this.showEventTimes?this.getFormattedTimeRange(t)+t.title:t.title},getEventZIndex:function(t){return 2*(t+1)+1}}}},function(t,n,e){"use strict";e.d(n,"a",function(){return a}),e.d(n,"b",function(){return r});var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"calendar-view",class:["locale-"+t.languageCode(t.displayLocale),"locale-"+t.displayLocale,"y"+t.periodStart.getFullYear(),"m"+t.paddedMonth(t.periodStart),"period-"+t.displayPeriodUom,"periodCount-"+t.displayPeriodCount,{past:t.isPastMonth(t.periodStart),future:t.isFutureMonth(t.periodStart),noIntl:!t.supportsIntl}]},[t._t("header",[e("div",{staticClass:"header"},[e("div",{staticClass:"nav"},[e("button",{staticClass:"previousYear",attrs:{disabled:!t.isPeriodIncrementAllowed(-12)},on:{click:function(n){t.onIncrementPeriod(-12)}}}),t._v(" "),e("button",{staticClass:"previousPeriod",attrs:{disabled:!t.isPeriodIncrementAllowed(-t.displayPeriodCount)},on:{click:function(n){t.onIncrementPeriod(-t.displayPeriodCount)}}}),t._v(" "),e("button",{staticClass:"nextPeriod",attrs:{disabled:!t.isPeriodIncrementAllowed(t.displayPeriodCount)},on:{click:function(n){t.onIncrementPeriod(t.displayPeriodCount)}}}),t._v(" "),e("button",{staticClass:"nextYear",attrs:{disabled:!t.isPeriodIncrementAllowed(12)},on:{click:function(n){t.onIncrementPeriod(12)}}}),t._v(" "),e("button",{staticClass:"currentPeriod",on:{click:t.onClickCurrentPeriod}})]),t._v(" "),e("div",{staticClass:"periodLabel",class:{singleYear:t.periodStart.getFullYear()===t.periodEnd.getFullYear(),singleMonth:t.isSameMonth(t.periodStart,t.periodEnd)}},[e("div",{staticClass:"startMonth"},[t._v(t._s(t.monthNames[t.periodStart.getMonth()]))]),t._v(" "),e("div",{staticClass:"startDay"},[t._v(t._s(t.periodStart.getDate()))]),t._v(" "),e("div",{staticClass:"startYear"},[t._v(t._s(t.periodStart.getFullYear()))]),t._v(" "),e("div",{staticClass:"endMonth"},[t._v(t._s(t.monthNames[t.periodEnd.getMonth()]))]),t._v(" "),e("div",{staticClass:"endDay"},[t._v(t._s(t.periodEnd.getDate()))]),t._v(" "),e("div",{staticClass:"endYear"},[t._v(t._s(t.periodEnd.getFullYear()))])])])]),t._v(" "),e("div",{staticClass:"dayList"},[t._l(t.weekdayNames,function(n,a){return[t._t("dayHeader",[e("div",{key:a,staticClass:"day",class:"dow"+a},[t._v(t._s(n))])],{index:a,label:n})]})],2),t._v(" "),e("div",{staticClass:"weeks"},t._l(t.weeksOfPeriod,function(n,a){return e("div",{key:a,staticClass:"week",class:["week"+(a+1),"ws"+t.isoYearMonthDay(n)],style:"z-index:"+2*(a+1)},[t._l(t.daysOfWeek(n),function(n,a){return e("div",{key:a,staticClass:"day",class:["dow"+n.getDay(),"d"+t.isoYearMonthDay(n),"d"+t.isoMonthDay(n),"d"+t.paddedDay(n),"instance"+t.instanceOfMonth(n),{outsideOfMonth:!t.isSameMonth(n,t.defaultedShowDate),today:t.isSameDate(n,t.today()),past:t.isInPast(n),future:t.isInFuture(n),last:t.isLastDayOfMonth(n),lastInstance:t.isLastInstanceOfMonth(n)}],on:{click:function(e){t.onClickDay(n)},drop:function(e){e.preventDefault(),t.onDrop(n,e)},dragover:function(e){e.preventDefault(),t.onDragOver(n)},dragenter:function(e){e.preventDefault(),t.onDragEnter(n,e)},dragleave:function(e){e.preventDefault(),t.onDragLeave(n,e)}}},[e("div",{staticClass:"content"},[t._t("dayContent",[e("div",{staticClass:"date"},[t._v(t._s(n.getDate()))])],{day:n})],2)])}),t._v(" "),t._l(t.getWeekEvents(n),function(r){return[t._t("event",[e("div",{key:r.id,staticClass:"event",class:r.classes,style:"z-index:"+t.getEventZIndex(a),attrs:{draggable:t.enableDragDrop,title:r.title},domProps:{innerHTML:t._s(t.getEventTitle(r))},on:{dragstart:function(n){t.onDragStart(r)},click:function(n){n.stopPropagation(),t.onClickEvent(r)}}})],{event:r,weekStartDate:n,zIndex:t.getEventZIndex(a)})]})],2)}))],2)},r=[];a._withStripped=!0},function(t,n,e){"use strict";function a(t,n,e,a,r,i,o,s){var d=typeof(t=t||{}).default;"object"!==d&&"function"!==d||(t=t.default);var l,c="function"==typeof t?t.options:t;if(n&&(c.render=n,c.staticRenderFns=e,c._compiled=!0),a&&(c.functional=!0),i&&(c._scopeId=i),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=l):r&&(l=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var A=c.render;c.render=function(t,n){return l.call(n),A(t,n)}}else{var v=c.beforeCreate;c.beforeCreate=v?[].concat(v,l):[l]}return{exports:t,options:c}}e.d(n,"a",function(){return a})},function(t,n,e){"use strict";function a(t,n){for(var e=[],a={},r=0;r<n.length;r++){var i=n[r],o=i[0],s={id:t+":"+r,css:i[1],media:i[2],sourceMap:i[3]};a[o]?a[o].parts.push(s):e.push(a[o]={id:o,parts:[s]})}return e}e.r(n),e.d(n,"default",function(){return p});var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},o=r&&(document.head||document.getElementsByTagName("head")[0]),s=null,d=0,l=!1,c=function(){},A=null,v="data-vue-ssr-id",u="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(t,n,e,r){l=e,A=r||{};var o=a(t,n);return f(o),function(n){for(var e=[],r=0;r<o.length;r++){var s=o[r];(d=i[s.id]).refs--,e.push(d)}for(n?f(o=a(t,n)):o=[],r=0;r<e.length;r++){var d;if(0===(d=e[r]).refs){for(var l=0;l<d.parts.length;l++)d.parts[l]();delete i[d.id]}}}}function f(t){for(var n=0;n<t.length;n++){var e=t[n],a=i[e.id];if(a){a.refs++;for(var r=0;r<a.parts.length;r++)a.parts[r](e.parts[r]);for(;r<e.parts.length;r++)a.parts.push(w(e.parts[r]));a.parts.length>e.parts.length&&(a.parts.length=e.parts.length)}else{var o=[];for(r=0;r<e.parts.length;r++)o.push(w(e.parts[r]));i[e.id]={id:e.id,refs:1,parts:o}}}}function h(){var t=document.createElement("style");return t.type="text/css",o.appendChild(t),t}function w(t){var n,e,a=document.querySelector("style["+v+'~="'+t.id+'"]');if(a){if(l)return c;a.parentNode.removeChild(a)}if(u){var r=d++;a=s||(s=h()),n=C.bind(null,a,r,!1),e=C.bind(null,a,r,!0)}else a=h(),n=function(t,n){var e=n.css,a=n.media,r=n.sourceMap;if(a&&t.setAttribute("media",a),A.ssrId&&t.setAttribute(v,n.id),r&&(e+="\n/*# sourceURL="+r.sources[0]+" */",e+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}.bind(null,a),e=function(){a.parentNode.removeChild(a)};return n(t),function(a){if(a){if(a.css===t.css&&a.media===t.media&&a.sourceMap===t.sourceMap)return;n(t=a)}else e()}}var m,y=(m=[],function(t,n){return m[t]=n,m.filter(Boolean).join("\n")});function C(t,n,e,a){var r=e?"":a.css;if(t.styleSheet)t.styleSheet.cssText=y(n,r);else{var i=document.createTextNode(r),o=t.childNodes;o[n]&&t.removeChild(o[n]),o.length?t.insertBefore(i,o[n]):t.appendChild(i)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={methods:{today:function(){return this.dateOnly(new Date)},beginningOfPeriod:function(t,n,e){switch(n){case"year":return new Date(t.getFullYear(),0);case"month":return new Date(t.getFullYear(),t.getMonth());case"week":return this.beginningOfWeek(t,e);default:return null}},daysOfWeek:function(t){var n=this;return Array(7).fill().map(function(e,a){return n.addDays(t,a)})},addDays:function(t,n){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+n,t.getHours(),t.getMinutes(),t.getSeconds())},beginningOfWeek:function(t,n){return this.addDays(t,(n-t.getDay()-7)%-7)},endOfWeek:function(t,n){return this.addDays(this.beginningOfWeek(t,n),7)},beginningOfMonth:function(t){return new Date(t.getFullYear(),t.getMonth())},instanceOfMonth:function(t){return Math.ceil(t.getDate()/7)},incrementPeriod:function(t,n,e){return new Date(t.getFullYear()+("year"==n?e:0),t.getMonth()+("month"==n?e:0),t.getDate()+("week"==n?7*e:0))},paddedMonth:function(t){return("0"+String(t.getMonth()+1)).slice(-2)},paddedDay:function(t){return("0"+String(t.getDate())).slice(-2)},isoYearMonth:function(t){return t.getFullYear()+"-"+this.paddedMonth(t)},isoYearMonthDay:function(t){return this.isoYearMonth(t)+"-"+this.paddedDay(t)},isoMonthDay:function(t){return this.paddedMonth(t)+"-"+this.paddedDay(t)},formattedTime:function(t,n,e){if(0===t.getHours()&&0===t.getMinutes()&&0===t.getSeconds())return"";if(!this.supportsIntl()){var a=6e4*(new Date).getTimezoneOffset();return new Date(t-a).toISOString().slice(11,16)}return t.toLocaleTimeString(n,e)},dayDiff:function(t,n){var e=new Date(n.getFullYear(),n.getMonth(),n.getDate()),a=new Date(t.getFullYear(),t.getMonth(),t.getDate());return e.setUTCHours(0,0,0,0),a.setUTCHours(0,0,0,0),(e-a)/864e5},isSameDate:function(t,n){return 0===this.dayDiff(t,n)},isSameDateTime:function(t,n){return t.getTime()===n.getTime()},isSameMonth:function(t,n){return t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()},isPastMonth:function(t){return this.beginningOfMonth(t)<this.beginningOfMonth(this.today())},isFutureMonth:function(t){return this.beginningOfMonth(t)>this.beginningOfMonth(this.today())},isInFuture:function(t){return this.dateOnly(t)>this.today()},isInPast:function(t){return this.dateOnly(t)<this.today()},isLastInstanceOfMonth:function(t){return t.getMonth()!==this.addDays(t,7).getMonth()},isLastDayOfMonth:function(t){return t.getMonth()!==this.addDays(t,1).getMonth()},fromIsoStringToLocalDate:function(t){var n=t.split(/\D/).map(function(t){return Number(t)});return n[1]--,new(Function.prototype.bind.apply(Date,[null].concat(function(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}(n))))},toLocalDate:function(t){return"string"==typeof t?this.fromIsoStringToLocalDate(t):new Date(t)},dateOnly:function(t){var n=new Date(t);return n.setHours(0,0,0,0),n},languageCode:function(t){return t.substring(0,2)},supportsIntl:function(){return"undefined"!=typeof Intl},getFormattedMonthNames:function(t,n){if(!this.supportsIntl())return Array(12).fill("");var e=new Intl.DateTimeFormat(t,{month:n});return Array(12).fill().map(function(t,n){return e.format(new Date(2017,n,1))})},getFormattedWeekdayNames:function(t,n,e){if(!this.supportsIntl())return Array(7).fill("");var a=new Intl.DateTimeFormat(t,{weekday:n});return Array(7).fill().map(function(t,n){return a.format(new Date(2017,0,(n+1+e)%7))})},getDefaultBrowserLocale:function(){return"undefined"==typeof navigator?"unk":(navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language||navigator.browserLanguage).toLowerCase()}}}},function(t,n){t.exports=function(t){var n=[];return n.toString=function(){return this.map(function(n){var e=function(t,n){var e,a=t[1]||"",r=t[3];if(!r)return a;if(n&&"function"==typeof btoa){var i=(e=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"),o=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[a].concat(o).concat([i]).join("\n")}return[a].join("\n")}(n,t);return n[2]?"@media "+n[2]+"{"+e+"}":e}).join("")},n.i=function(t,e){"string"==typeof t&&(t=[[null,t,""]]);for(var a={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(a[i]=!0)}for(r=0;r<t.length;r++){var o=t[r];"number"==typeof o[0]&&a[o[0]]||(e&&!o[2]?o[2]=e:e&&(o[2]="("+o[2]+") and ("+e+")"),n.push(o))}},n}},function(t,n,e){(t.exports=e(5)(!1)).push([t.i,'\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* Position/Flex */\n\n/* Make the calendar flex vertically */\n.calendar-view {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t    -ms-flex-direction: column;\n\t        flex-direction: column;\n}\n.calendar-view .header {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-flex: 0;\n\t    -ms-flex: 0 1 auto;\n\t        flex: 0 1 auto;\n\t-webkit-box-orient: horizontal;\n\t-webkit-box-direction: normal;\n\t    -ms-flex-flow: row nowrap;\n\t        flex-flow: row nowrap;\n\t-webkit-box-align: center;\n\t    -ms-flex-align: center;\n\t        align-items: center;\n\tmin-height: 2.5em;\n}\n.calendar-view .header .periodLabel {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-flex: 1;\n\t    -ms-flex: 1 1 auto;\n\t        flex: 1 1 auto;\n\t-webkit-box-orient: horizontal;\n\t-webkit-box-direction: normal;\n\t    -ms-flex-flow: row nowrap;\n\t        flex-flow: row nowrap;\n\tmin-height: 1.2em;\n}\n.calendar-view .dayList {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-flex: 0;\n\t    -ms-flex: 0 0 auto;\n\t        flex: 0 0 auto;\n\t-webkit-box-orient: horizontal;\n\t-webkit-box-direction: normal;\n\t    -ms-flex-flow: row nowrap;\n\t        flex-flow: row nowrap;\n}\n.calendar-view .dayList .day {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-flex: 1;\n\t    -ms-flex: 1 1 0px;\n\t        flex: 1 1 0;\n\t-webkit-box-orient: horizontal;\n\t-webkit-box-direction: normal;\n\t    -ms-flex-flow: row nowrap;\n\t        flex-flow: row nowrap;\n\t-webkit-box-align: center;\n\t    -ms-flex-align: center;\n\t        align-items: center;\n\t-webkit-box-pack: center;\n\t    -ms-flex-pack: center;\n\t        justify-content: center;\n\ttext-align: center;\n}\n\n/* The calendar grid should take up the remaining vertical space */\n.calendar-view .weeks {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-flex: 1;\n\t    -ms-flex: 1 1 auto;\n\t        flex: 1 1 auto;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t    -ms-flex-flow: column nowrap;\n\t        flex-flow: column nowrap;\n\n\t/* Allow grid to scroll if there are too may weeks to fit in the view */\n\toverflow-y: scroll;\n\t-ms-overflow-style: none;\n}\n\n/* Use flex basis of 0 on week row so all weeks will be same height regardless of content */\n.calendar-view .week {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-flex: 1;\n\t    -ms-flex: 1 1 0px;\n\t        flex: 1 1 0;\n\t-webkit-box-orient: horizontal;\n\t-webkit-box-direction: normal;\n\t    -ms-flex-flow: row nowrap;\n\t        flex-flow: row nowrap;\n\tmin-height: 3em;\n\n\t/* Allow week events to scroll if they are too tall */\n\tposition: relative;\n\twidth: 100%;\n\toverflow-y: scroll;\n\t-ms-overflow-style: none;\n}\n.calendar-view .weeks::-webkit-scrollbar,\n.calendar-view .week::-webkit-scrollbar {\n\twidth: 0; /* remove scrollbar space */\n\tbackground: transparent; /* optional: just make scrollbar invisible */\n}\n.calendar-view .week .day {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-flex: 1;\n\t    -ms-flex: 1 1 0px;\n\t        flex: 1 1 0;\n\tposition: -webkit-sticky;\n\tposition: sticky; /* When week\'s events are scrolled, keep the day content fixed */\n\ttop: 0;\n}\n.calendar-view .day .content {\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\tbottom: 0;\n\tright: 0;\n}\n.calendar-view .day .date {\n\tfloat: right;\n\tclear: both;\n}\n.calendar-view .event {\n\tposition: absolute;\n\twhite-space: nowrap;\n\toverflow: hidden;\n\tbackground-color: #f7f7f7;\n}\n\n/* Header */\n.calendar-view .periodLabel .startDay::before,\n.calendar-view .periodLabel .endDay::before,\n.calendar-view.period-month .periodLabel .startYear::before,\n.calendar-view.period-month .periodLabel .endYear::before,\n.calendar-view.period-year .periodLabel .endYear::before {\n\tcontent: "\\A0";\n}\n.calendar-view .periodLabel .endMonth::before,\n.calendar-view.period-year:not(.periodCount-1) .periodLabel .endYear::before,\n.calendar-view.period-week .periodLabel.singleMonth .endDay::before {\n\tcontent: "\\A0\\2013\\A0";\n}\n.calendar-view.period-week .periodLabel .startYear::before,\n.calendar-view.period-week .periodLabel .endYear::before {\n\tcontent: ",\\A0";\n}\n.calendar-view .periodLabel.singleYear .startYear,\n.calendar-view .periodLabel.singleMonth .endMonth,\n.calendar-view.period-month .periodLabel .startDay,\n.calendar-view.period-month .periodLabel .endDay,\n.calendar-view.period-year .periodLabel .startDay,\n.calendar-view.period-year .periodLabel .endDay,\n.calendar-view.period-year .periodLabel .startMonth,\n.calendar-view.period-year .periodLabel .endMonth,\n.calendar-view.period-month.periodCount-1 .periodLabel .endMonth,\n.calendar-view.period-month.periodCount-1 .periodLabel .startYear,\n.calendar-view.period-year.periodCount-1 .periodLabel .startYear {\n\tdisplay: none;\n}\n\n/* Header navigation buttons */\n.calendar-view .header .nav .previousPeriod::after {\n\tcontent: "<";\n}\n.calendar-view .header .nav .nextPeriod::after {\n\tcontent: ">";\n}\n.calendar-view .header .nav .previousYear::after {\n\tcontent: "<<";\n}\n.calendar-view .header .nav .nextYear::after {\n\tcontent: ">>";\n}\n.calendar-view .header .nav .currentPeriod {\n\tdisplay: none;\n}\n.calendar-view.past .header .nav .currentPeriod,\n.calendar-view.future .header .nav .currentPeriod {\n\tdisplay: inline-block;\n}\n.calendar-view.past .header .nav .currentPeriod::after {\n\tcontent: "\\21BB";\n}\n.calendar-view.future .header .nav .currentPeriod::after {\n\tcontent: "\\21BA";\n}\n\n/* Colors */\n.calendar-view .header,\n.calendar-view button,\n.calendar-view .dayList,\n.calendar-view .weeks,\n.calendar-view .week,\n.calendar-view .day,\n.calendar-view .event {\n\tborder-style: solid;\n\tborder-color: #ddd;\n}\n\n/* Event Times */\n.calendar-view .event .startTime:not(.hasEndTime),\n.calendar-view .event .endTime {\n\tmargin-right: 0.4em;\n}\n.calendar-view .event .endTime::before {\n\tcontent: "-";\n}\n\n/* Internal Metrics */\n.calendar-view,\n.calendar-view div,\n.calendar-view button {\n\t-webkit-box-sizing: border-box;\n\t        box-sizing: border-box;\n\tline-height: 1em;\n\tfont-size: 1em;\n}\n.calendar-view .dayList div,\n.calendar-view .date,\n.calendar-view .event {\n\tpadding: 0.2em;\n}\n.calendar-view .header .nav,\n.calendar-view .header .periodLabel {\n\tmargin: 0.4em 0.6em;\n}\n.calendar-view .header .nav button,\n.calendar-view .header .periodLabel {\n\tpadding: 0.4em 0.6em;\n}\n\n/* Allows emoji icons or labels (such as holidays) to be added more easily to specific dates by having the margin set already. */\n.calendar-view .day .date::before {\n\tmargin-right: 0.5em;\n}\n\n/* Borders */\n.calendar-view .week {\n\tborder-width: 0;\n}\n.calendar-view .weeks {\n\tborder-width: 0 0 1px 1px;\n}\n.calendar-view .header {\n\tborder-width: 1px 1px 0 1px;\n}\n.calendar-view .dayList {\n\tborder-width: 0 0 0 1px;\n}\n.calendar-view .day {\n\tborder-width: 1px 1px 0 0;\n}\n.calendar-view .header button,\n.calendar-view .event {\n\tborder-width: 1px;\n}\n\n/* Positioning for event eventRows */\n.calendar-view .event.eventRow1 {\n\ttop: 1.4em;\n}\n.calendar-view .event.eventRow2 {\n\ttop: calc(2 * 1.4em + 2px);\n}\n.calendar-view .event.eventRow3 {\n\ttop: calc(3 * 1.4em + 4px);\n}\n.calendar-view .event.eventRow4 {\n\ttop: calc(4 * 1.4em + 6px);\n}\n.calendar-view .event.eventRow5 {\n\ttop: calc(5 * 1.4em + 8px);\n}\n.calendar-view .event.eventRow6 {\n\ttop: calc(6 * 1.4em + 10px);\n}\n.calendar-view .event.eventRow7 {\n\ttop: calc(7 * 1.4em + 12px);\n}\n.calendar-view .event.eventRow8 {\n\ttop: calc(8 * 1.4em + 14px);\n}\n.calendar-view .event.eventRow9 {\n\ttop: calc(9 * 1.4em + 16px);\n}\n.calendar-view .event.eventRow10 {\n\ttop: calc(10 * 1.4em + 18px);\n}\n.calendar-view .event.eventRow11 {\n\ttop: calc(11 * 1.4em + 20px);\n}\n.calendar-view .event.eventRow12 {\n\ttop: calc(12 * 1.4em + 22px);\n}\n.calendar-view .event.eventRow13 {\n\ttop: calc(13 * 1.4em + 24px);\n}\n.calendar-view .event.eventRow14 {\n\ttop: calc(14 * 1.4em + 26px);\n}\n.calendar-view .event.eventRow15 {\n\ttop: calc(15 * 1.4em + 28px);\n}\n.calendar-view .event.eventRow16 {\n\ttop: calc(16 * 1.4em + 30px);\n}\n.calendar-view .event.eventRow17 {\n\ttop: calc(17 * 1.4em + 32px);\n}\n.calendar-view .event.eventRow18 {\n\ttop: calc(18 * 1.4em + 34px);\n}\n.calendar-view .event.eventRow19 {\n\ttop: calc(19 * 1.4em + 36px);\n}\n.calendar-view .event.eventRow20 {\n\ttop: calc(20 * 1.4em + 38px);\n}\n.calendar-view .event.eventRow0 {\n\tdisplay: none;\n} /* More than 20 eventRows not currently supported */\n.calendar-view .event.offset0 {\n\tleft: 0;\n}\n.calendar-view .event.offset1 {\n\tleft: calc((100% / 7));\n}\n.calendar-view .event.offset2 {\n\tleft: calc((200% / 7));\n}\n.calendar-view .event.offset3 {\n\tleft: calc((300% / 7));\n}\n.calendar-view .event.offset4 {\n\tleft: calc((400% / 7));\n}\n.calendar-view .event.offset5 {\n\tleft: calc((500% / 7));\n}\n.calendar-view .event.offset6 {\n\tleft: calc((600% / 7));\n}\n\n/* Metrics for events spanning dates */\n.calendar-view .event.span1 {\n\twidth: calc((100% / 7) - 0.05em);\n}\n.calendar-view .event.span2 {\n\twidth: calc((200% / 7) - 0.05em);\n}\n.calendar-view .event.span3 {\n\twidth: calc((300% / 7) - 0.05em);\n\ttext-align: center;\n}\n.calendar-view .event.span4 {\n\twidth: calc((400% / 7) - 0.05em);\n\ttext-align: center;\n}\n.calendar-view .event.span5 {\n\twidth: calc((500% / 7) - 0.05em);\n\ttext-align: center;\n}\n.calendar-view .event.span6 {\n\twidth: calc((600% / 7) - 0.05em);\n\ttext-align: center;\n}\n.calendar-view .event.span7 {\n\twidth: calc((700% / 7) - 0.05em);\n\ttext-align: center;\n}\n',""])},function(t,n,e){var a=e(6);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals),(0,e(3).default)("6a51b68a",a,!1,{})},function(t,n,e){"use strict";e.r(n);var a=e(0),r=e.n(a);for(var i in a)"default"!==i&&function(t){e.d(n,t,function(){return a[t]})}(i);var o=e(1),s=e(2),d=Object(s.a)(r.a,o.a,o.b,!1,function(t){e(7)},null,null);d.options.__file="src/CalendarView.vue",n.default=d.exports}])},function(t,n,e){"use strict";e.r(n);var a=e(2),r={name:"CalendarView",mixins:[e.n(a).a],props:{showDate:{type:Date,default(){}},displayPeriodUom:{type:String,default:()=>"month"},displayPeriodCount:{type:Number,default:()=>1},locale:{type:String,default(){}},monthNameFormat:{type:String,default:()=>"long"},weekdayNameFormat:{type:String,default:()=>"short"},showEventTimes:{type:Boolean,default:()=>!1},timeFormatOptions:{type:Object,default:()=>({})},disablePast:{type:Boolean,default:()=>!1},disableFuture:{type:Boolean,default:()=>!1},enableDragDrop:{type:Boolean,default:()=>!1},startingDayOfWeek:{type:Number,default:()=>0},events:{type:Array,default:()=>[]}},data:function(){return{currentDragEvent:null}},computed:{displayLocale(){return this.locale||this.getDefaultBrowserLocale()},defaultedShowDate(){return this.showDate||this.today()},periodStart(){return this.beginningOfPeriod(this.defaultedShowDate,this.displayPeriodUom,this.startingDayOfWeek)},periodEnd(){return this.addDays(this.incrementPeriod(this.periodStart,this.displayPeriodUom,this.displayPeriodCount),-1)},displayFirstDate(){return this.beginningOfWeek(this.periodStart,this.startingDayOfWeek)},displayLastDate(){return this.endOfWeek(this.periodEnd,this.startingDayOfWeek)},weeksOfPeriod(){const t=Math.floor((this.dayDiff(this.displayFirstDate,this.displayLastDate)+1)/7);return Array(t).fill().map((t,n)=>this.addDays(this.displayFirstDate,7*n))},monthNames(){return this.getFormattedMonthNames(this.displayLocale,this.monthNameFormat)},weekdayNames(){return this.getFormattedWeekdayNames(this.displayLocale,this.weekdayNameFormat,this.startingDayOfWeek)},fixedEvents(){var t=this;return this.events.map(function(n){let e=[];return n.classes&&(e=Array.isArray(n.classes)?[...n.classes]:[n.classes]),{originalEvent:n,startDate:t.toLocalDate(n.startDate),endDate:t.toLocalDate(n.endDate||n.startDate),classes:e,title:n.title||"Untitled",id:n.id||"e"+Math.random().toString(36).substr(2,10)}})}},methods:{onClickDay(t){this.disablePast&&this.isInPast(t)||this.disableFuture&&this.isInFuture(t)||this.$emit("click-date",t)},onClickEvent(t,n){this.$emit("click-event",t,n)},onClickCurrentPeriod(){const t=this.beginningOfPeriod(this.today(),this.displayPeriodUom,this.startingDayOfWeek);this.$emit("show-date-change",t)},getIncrementedPeriod(t){const n=this.incrementPeriod(this.periodStart,this.displayPeriodUom,t),e=this.incrementPeriod(n,this.displayPeriodUom,this.displayPeriodCount);return this.disablePast&&e<=this.today()?null:this.disableFuture&&n>this.today()?null:n},isPeriodIncrementAllowed(t){return null!==this.getIncrementedPeriod(t)},onIncrementPeriod(t){const n=this.getIncrementedPeriod(t);null!=n&&this.$emit("show-date-change",n)},onDragStart(t){return!!this.enableDragDrop&&(this.currentDragEvent=t,this.$emit("drag-start",t),!0)},handleEvent(t,n){return!!this.enableDragDrop&&!!this.currentDragEvent&&(this.$emit(t,this.currentDragEvent,n),!0)},onDragOver(t){this.handleEvent("drag-over-date",t)},onDragEnter(t,n){this.handleEvent("drag-enter-date",t)&&n.target.classList.add("draghover")},onDragLeave(t,n){this.handleEvent("drag-leave-date",t)&&n.target.classList.remove("draghover")},onDrop(t,n){this.handleEvent("drop-on-date",t)&&n.target.classList.remove("draghover")},findAndSortEventsInWeek(t){return this.fixedEvents.filter(n=>n.startDate<this.addDays(t,7)&&n.endDate>=t,this).sort((t,n)=>t.startDate<n.startDate?-1:n.startDate<t.startDate?1:t.endDate>n.endDate?-1:n.endDate>t.endDate?1:t.id<n.id?-1:1)},getWeekEvents(t){const n=this.findAndSortEventsInWeek(t),e=[],a=[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]];for(let r=0;r<n.length;r++){const i=Object.assign({},n[r],{classes:[...n[r].classes],eventRow:0}),o=i.startDate<t,s=o?0:this.dayDiff(t,i.startDate),d=Math.min(7-s,this.dayDiff(this.addDays(t,s),i.endDate)+1);o&&i.classes.push("continued"),this.dayDiff(t,i.endDate)>6&&i.classes.push("toBeContinued"),i.originalEvent.url&&i.classes.push("hasUrl");for(let t=0;t<7;t++)if(t===s){for(let n=0;n<20;n++)if(!a[t][n]){i.eventRow=n,a[t][n]=!0;break}}else t<s+d&&(a[t][i.eventRow]=!0);i.classes.push(`offset${s}`),i.classes.push(`span${d}`),i.classes.push(`eventRow${i.eventRow+1}`),e.push(i)}return e},getFormattedTimeRange(t){const n=this.formattedTime(t.startDate,this.displayLocale,this.timeFormatOptions),e=this.isSameDateTime(t.startDate,t.endDate)?"":this.formattedTime(t.endDate,this.displayLocale,this.timeFormatOptions),a=""!==n,r=""!==e;return(a?`<span class="startTime${r?" hasEndTime":""}">${n}</span>`:"")+(r?`<span class="endTime${a?" hasStartTime":""}">${e}</span>`:"")},getEventTitle(t){return this.showEventTimes?this.getFormattedTimeRange(t)+t.title:t.title},getEventZIndex:t=>2*(t+1)+1}},i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"calendar-view",class:["locale-"+t.languageCode(t.displayLocale),"locale-"+t.displayLocale,"y"+t.periodStart.getFullYear(),"m"+t.paddedMonth(t.periodStart),"period-"+t.displayPeriodUom,"periodCount-"+t.displayPeriodCount,{past:t.isPastMonth(t.periodStart),future:t.isFutureMonth(t.periodStart),noIntl:!t.supportsIntl}]},[t._t("header",[e("div",{staticClass:"header"},[e("div",{staticClass:"nav"},[e("button",{staticClass:"previousYear",attrs:{disabled:!t.isPeriodIncrementAllowed(-12)},on:{click:function(n){t.onIncrementPeriod(-12)}}}),t._v(" "),e("button",{staticClass:"previousPeriod",attrs:{disabled:!t.isPeriodIncrementAllowed(-t.displayPeriodCount)},on:{click:function(n){t.onIncrementPeriod(-t.displayPeriodCount)}}}),t._v(" "),e("button",{staticClass:"nextPeriod",attrs:{disabled:!t.isPeriodIncrementAllowed(t.displayPeriodCount)},on:{click:function(n){t.onIncrementPeriod(t.displayPeriodCount)}}}),t._v(" "),e("button",{staticClass:"nextYear",attrs:{disabled:!t.isPeriodIncrementAllowed(12)},on:{click:function(n){t.onIncrementPeriod(12)}}}),t._v(" "),e("button",{staticClass:"currentPeriod",on:{click:t.onClickCurrentPeriod}})]),t._v(" "),e("div",{staticClass:"periodLabel",class:{singleYear:t.periodStart.getFullYear()===t.periodEnd.getFullYear(),singleMonth:t.isSameMonth(t.periodStart,t.periodEnd)}},[e("div",{staticClass:"startMonth"},[t._v(t._s(t.monthNames[t.periodStart.getMonth()]))]),t._v(" "),e("div",{staticClass:"startDay"},[t._v(t._s(t.periodStart.getDate()))]),t._v(" "),e("div",{staticClass:"startYear"},[t._v(t._s(t.periodStart.getFullYear()))]),t._v(" "),e("div",{staticClass:"endMonth"},[t._v(t._s(t.monthNames[t.periodEnd.getMonth()]))]),t._v(" "),e("div",{staticClass:"endDay"},[t._v(t._s(t.periodEnd.getDate()))]),t._v(" "),e("div",{staticClass:"endYear"},[t._v(t._s(t.periodEnd.getFullYear()))])])])]),t._v(" "),e("div",{staticClass:"dayList"},[t._l(t.weekdayNames,function(n,a){return[t._t("dayHeader",[e("div",{key:a,staticClass:"day",class:"dow"+a},[t._v(t._s(n))])],{index:a,label:n})]})],2),t._v(" "),e("div",{staticClass:"weeks"},t._l(t.weeksOfPeriod,function(n,a){return e("div",{key:a,staticClass:"week",class:["week"+(a+1),"ws"+t.isoYearMonthDay(n)],style:"z-index:"+2*(a+1)},[t._l(t.daysOfWeek(n),function(n,a){return e("div",{key:a,staticClass:"day",class:["dow"+n.getDay(),"d"+t.isoYearMonthDay(n),"d"+t.isoMonthDay(n),"d"+t.paddedDay(n),"instance"+t.instanceOfMonth(n),{outsideOfMonth:!t.isSameMonth(n,t.defaultedShowDate),today:t.isSameDate(n,t.today()),past:t.isInPast(n),future:t.isInFuture(n),last:t.isLastDayOfMonth(n),lastInstance:t.isLastInstanceOfMonth(n)}],on:{click:function(e){t.onClickDay(n)},drop:function(e){e.preventDefault(),t.onDrop(n,e)},dragover:function(e){e.preventDefault(),t.onDragOver(n)},dragenter:function(e){e.preventDefault(),t.onDragEnter(n,e)},dragleave:function(e){e.preventDefault(),t.onDragLeave(n,e)}}},[e("div",{staticClass:"content"},[t._t("dayContent",[e("div",{staticClass:"date"},[t._v(t._s(n.getDate()))])],{day:n})],2)])}),t._v(" "),t._l(t.getWeekEvents(n),function(r){return[t._t("event",[e("div",{key:r.id,staticClass:"event",class:r.classes,style:"z-index:"+t.getEventZIndex(a),attrs:{draggable:t.enableDragDrop,title:r.title},domProps:{innerHTML:t._s(t.getEventTitle(r))},on:{dragstart:function(n){t.onDragStart(r)},click:function(n){n.stopPropagation(),t.onClickEvent(r)}}})],{event:r,weekStartDate:n,zIndex:t.getEventZIndex(a)})]})],2)}))],2)};function o(t,n,e,a,r,i,o,s){var d=typeof(t=t||{}).default;"object"!==d&&"function"!==d||(t=t.default);var l,c="function"==typeof t?t.options:t;if(n&&(c.render=n,c.staticRenderFns=e,c._compiled=!0),a&&(c.functional=!0),i&&(c._scopeId=i),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=l):r&&(l=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var A=c.render;c.render=function(t,n){return l.call(n),A(t,n)}}else{var v=c.beforeCreate;c.beforeCreate=v?[].concat(v,l):[l]}return{exports:t,options:c}}i._withStripped=!0;var s=o(r,i,[],!1,function(t){e(5)},null,null);s.options.__file="src/CalendarView.vue";var d={props:["events"],name:"cpmstd-tracking-calendar",data:function(){return{showDate:new Date,dayFocus:null}},components:{CalendarView:s.exports},methods:{setShowDate(t){this.showDate=t},onDrop(t,n){console.log("onDrop"),console.log(t),console.log(n)},onClickDay(t){this.dayFocus=t,$("#DayFocus").modal("show"),this.$emit("loadday","loadDay",t)},onClickEvent(t){$("#DatasetFocus").modal("show"),this.$emit("loadeventobject","calendar",t.originalEvent)}}},l=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"cpmstd-tracking-calendar"}},[e("calendar-view",{staticClass:"holiday-us-traditional holiday-us-official has-clickable-events",attrs:{events:t.events,"show-date":t.showDate,"enable-drag-drop":!0},on:{"drop-on-date":t.onDrop,"click-date":t.onClickDay,"click-event":t.onClickEvent,"show-date-change":t.setShowDate}}),t._v(" "),e("div",{staticClass:"modal fade",attrs:{id:"DayFocus",role:"dialog"}},[e("div",{staticClass:"modal-dialog modal-lg"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal",tabindex:"-1"},on:{click:function(n){t.focusChanged=!1}}},[t._v("Ã—")])]),t._v(" "),e("div",{staticClass:"modal-body"},[e("cpmstd-tracking-calendar-day-focus",{attrs:{events:t.events,dayFocus:t.dayFocus}})],1),t._v(" "),t._m(0)])])])],1)};l._withStripped=!0;var c=o(d,l,[function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"modal-footer"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-12 text-right"},[n("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[this._v("Close")])])])])}],!1,function(t){e(7)},null,null);c.options.__file="src/cpmstd-tracking-calendar.vue";var A=c.exports;Vue.component(A.name,A)},function(t,n,e){(t.exports=e(1)(!0)).push([t.i,'\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* Position/Flex */\n\n/* Make the calendar flex vertically */\n.calendar-view {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t    -ms-flex-direction: column;\n\t        flex-direction: column;\n}\n.calendar-view .header {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-flex: 0;\n\t    -ms-flex: 0 1 auto;\n\t        flex: 0 1 auto;\n\t-webkit-box-orient: horizontal;\n\t-webkit-box-direction: normal;\n\t    -ms-flex-flow: row nowrap;\n\t        flex-flow: row nowrap;\n\t-webkit-box-align: center;\n\t    -ms-flex-align: center;\n\t        align-items: center;\n\tmin-height: 2.5em;\n}\n.calendar-view .header .periodLabel {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-flex: 1;\n\t    -ms-flex: 1 1 auto;\n\t        flex: 1 1 auto;\n\t-webkit-box-orient: horizontal;\n\t-webkit-box-direction: normal;\n\t    -ms-flex-flow: row nowrap;\n\t        flex-flow: row nowrap;\n\tmin-height: 1.2em;\n}\n.calendar-view .dayList {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-flex: 0;\n\t    -ms-flex: 0 0 auto;\n\t        flex: 0 0 auto;\n\t-webkit-box-orient: horizontal;\n\t-webkit-box-direction: normal;\n\t    -ms-flex-flow: row nowrap;\n\t        flex-flow: row nowrap;\n}\n.calendar-view .dayList .day {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-flex: 1;\n\t    -ms-flex: 1 1 0px;\n\t        flex: 1 1 0;\n\t-webkit-box-orient: horizontal;\n\t-webkit-box-direction: normal;\n\t    -ms-flex-flow: row nowrap;\n\t        flex-flow: row nowrap;\n\t-webkit-box-align: center;\n\t    -ms-flex-align: center;\n\t        align-items: center;\n\t-webkit-box-pack: center;\n\t    -ms-flex-pack: center;\n\t        justify-content: center;\n\ttext-align: center;\n}\n\n/* The calendar grid should take up the remaining vertical space */\n.calendar-view .weeks {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-flex: 1;\n\t    -ms-flex: 1 1 auto;\n\t        flex: 1 1 auto;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t    -ms-flex-flow: column nowrap;\n\t        flex-flow: column nowrap;\n\n\t/* Allow grid to scroll if there are too may weeks to fit in the view */\n\toverflow-y: scroll;\n\t-ms-overflow-style: none;\n}\n\n/* Use flex basis of 0 on week row so all weeks will be same height regardless of content */\n.calendar-view .week {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-flex: 1;\n\t    -ms-flex: 1 1 0px;\n\t        flex: 1 1 0;\n\t-webkit-box-orient: horizontal;\n\t-webkit-box-direction: normal;\n\t    -ms-flex-flow: row nowrap;\n\t        flex-flow: row nowrap;\n\tmin-height: 3em;\n\n\t/* Allow week events to scroll if they are too tall */\n\tposition: relative;\n\twidth: 100%;\n\toverflow-y: scroll;\n\t-ms-overflow-style: none;\n}\n.calendar-view .weeks::-webkit-scrollbar,\n.calendar-view .week::-webkit-scrollbar {\n\twidth: 0; /* remove scrollbar space */\n\tbackground: transparent; /* optional: just make scrollbar invisible */\n}\n.calendar-view .week .day {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-flex: 1;\n\t    -ms-flex: 1 1 0px;\n\t        flex: 1 1 0;\n\tposition: -webkit-sticky;\n\tposition: sticky; /* When week\'s events are scrolled, keep the day content fixed */\n\ttop: 0;\n}\n.calendar-view .day .content {\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\tbottom: 0;\n\tright: 0;\n}\n.calendar-view .day .date {\n\tfloat: right;\n\tclear: both;\n}\n.calendar-view .event {\n\tposition: absolute;\n\twhite-space: nowrap;\n\toverflow: hidden;\n\tbackground-color: #f7f7f7;\n}\n\n/* Header */\n.calendar-view .periodLabel .startDay::before,\n.calendar-view .periodLabel .endDay::before,\n.calendar-view.period-month .periodLabel .startYear::before,\n.calendar-view.period-month .periodLabel .endYear::before,\n.calendar-view.period-year .periodLabel .endYear::before {\n\tcontent: "\\A0";\n}\n.calendar-view .periodLabel .endMonth::before,\n.calendar-view.period-year:not(.periodCount-1) .periodLabel .endYear::before,\n.calendar-view.period-week .periodLabel.singleMonth .endDay::before {\n\tcontent: "\\A0\\2013\\A0";\n}\n.calendar-view.period-week .periodLabel .startYear::before,\n.calendar-view.period-week .periodLabel .endYear::before {\n\tcontent: ",\\A0";\n}\n.calendar-view .periodLabel.singleYear .startYear,\n.calendar-view .periodLabel.singleMonth .endMonth,\n.calendar-view.period-month .periodLabel .startDay,\n.calendar-view.period-month .periodLabel .endDay,\n.calendar-view.period-year .periodLabel .startDay,\n.calendar-view.period-year .periodLabel .endDay,\n.calendar-view.period-year .periodLabel .startMonth,\n.calendar-view.period-year .periodLabel .endMonth,\n.calendar-view.period-month.periodCount-1 .periodLabel .endMonth,\n.calendar-view.period-month.periodCount-1 .periodLabel .startYear,\n.calendar-view.period-year.periodCount-1 .periodLabel .startYear {\n\tdisplay: none;\n}\n\n/* Header navigation buttons */\n.calendar-view .header .nav .previousPeriod::after {\n\tcontent: "<";\n}\n.calendar-view .header .nav .nextPeriod::after {\n\tcontent: ">";\n}\n.calendar-view .header .nav .previousYear::after {\n\tcontent: "<<";\n}\n.calendar-view .header .nav .nextYear::after {\n\tcontent: ">>";\n}\n.calendar-view .header .nav .currentPeriod {\n\tdisplay: none;\n}\n.calendar-view.past .header .nav .currentPeriod,\n.calendar-view.future .header .nav .currentPeriod {\n\tdisplay: inline-block;\n}\n.calendar-view.past .header .nav .currentPeriod::after {\n\tcontent: "\\21BB";\n}\n.calendar-view.future .header .nav .currentPeriod::after {\n\tcontent: "\\21BA";\n}\n\n/* Colors */\n.calendar-view .header,\n.calendar-view button,\n.calendar-view .dayList,\n.calendar-view .weeks,\n.calendar-view .week,\n.calendar-view .day,\n.calendar-view .event {\n\tborder-style: solid;\n\tborder-color: #ddd;\n}\n\n/* Event Times */\n.calendar-view .event .startTime:not(.hasEndTime),\n.calendar-view .event .endTime {\n\tmargin-right: 0.4em;\n}\n.calendar-view .event .endTime::before {\n\tcontent: "-";\n}\n\n/* Internal Metrics */\n.calendar-view,\n.calendar-view div,\n.calendar-view button {\n\t-webkit-box-sizing: border-box;\n\t        box-sizing: border-box;\n\tline-height: 1em;\n\tfont-size: 1em;\n}\n.calendar-view .dayList div,\n.calendar-view .date,\n.calendar-view .event {\n\tpadding: 0.2em;\n}\n.calendar-view .header .nav,\n.calendar-view .header .periodLabel {\n\tmargin: 0.4em 0.6em;\n}\n.calendar-view .header .nav button,\n.calendar-view .header .periodLabel {\n\tpadding: 0.4em 0.6em;\n}\n\n/* Allows emoji icons or labels (such as holidays) to be added more easily to specific dates by having the margin set already. */\n.calendar-view .day .date::before {\n\tmargin-right: 0.5em;\n}\n\n/* Borders */\n.calendar-view .week {\n\tborder-width: 0;\n}\n.calendar-view .weeks {\n\tborder-width: 0 0 1px 1px;\n}\n.calendar-view .header {\n\tborder-width: 1px 1px 0 1px;\n}\n.calendar-view .dayList {\n\tborder-width: 0 0 0 1px;\n}\n.calendar-view .day {\n\tborder-width: 1px 1px 0 0;\n}\n.calendar-view .header button,\n.calendar-view .event {\n\tborder-width: 1px;\n}\n\n/* Positioning for event eventRows */\n.calendar-view .event.eventRow1 {\n\ttop: 1.4em;\n}\n.calendar-view .event.eventRow2 {\n\ttop: calc(2 * 1.4em + 2px);\n}\n.calendar-view .event.eventRow3 {\n\ttop: calc(3 * 1.4em + 4px);\n}\n.calendar-view .event.eventRow4 {\n\ttop: calc(4 * 1.4em + 6px);\n}\n.calendar-view .event.eventRow5 {\n\ttop: calc(5 * 1.4em + 8px);\n}\n.calendar-view .event.eventRow6 {\n\ttop: calc(6 * 1.4em + 10px);\n}\n.calendar-view .event.eventRow7 {\n\ttop: calc(7 * 1.4em + 12px);\n}\n.calendar-view .event.eventRow8 {\n\ttop: calc(8 * 1.4em + 14px);\n}\n.calendar-view .event.eventRow9 {\n\ttop: calc(9 * 1.4em + 16px);\n}\n.calendar-view .event.eventRow10 {\n\ttop: calc(10 * 1.4em + 18px);\n}\n.calendar-view .event.eventRow11 {\n\ttop: calc(11 * 1.4em + 20px);\n}\n.calendar-view .event.eventRow12 {\n\ttop: calc(12 * 1.4em + 22px);\n}\n.calendar-view .event.eventRow13 {\n\ttop: calc(13 * 1.4em + 24px);\n}\n.calendar-view .event.eventRow14 {\n\ttop: calc(14 * 1.4em + 26px);\n}\n.calendar-view .event.eventRow15 {\n\ttop: calc(15 * 1.4em + 28px);\n}\n.calendar-view .event.eventRow16 {\n\ttop: calc(16 * 1.4em + 30px);\n}\n.calendar-view .event.eventRow17 {\n\ttop: calc(17 * 1.4em + 32px);\n}\n.calendar-view .event.eventRow18 {\n\ttop: calc(18 * 1.4em + 34px);\n}\n.calendar-view .event.eventRow19 {\n\ttop: calc(19 * 1.4em + 36px);\n}\n.calendar-view .event.eventRow20 {\n\ttop: calc(20 * 1.4em + 38px);\n}\n.calendar-view .event.eventRow0 {\n\tdisplay: none;\n} /* More than 20 eventRows not currently supported */\n.calendar-view .event.offset0 {\n\tleft: 0;\n}\n.calendar-view .event.offset1 {\n\tleft: calc((100% / 7));\n}\n.calendar-view .event.offset2 {\n\tleft: calc((200% / 7));\n}\n.calendar-view .event.offset3 {\n\tleft: calc((300% / 7));\n}\n.calendar-view .event.offset4 {\n\tleft: calc((400% / 7));\n}\n.calendar-view .event.offset5 {\n\tleft: calc((500% / 7));\n}\n.calendar-view .event.offset6 {\n\tleft: calc((600% / 7));\n}\n\n/* Metrics for events spanning dates */\n.calendar-view .event.span1 {\n\twidth: calc((100% / 7) - 0.05em);\n}\n.calendar-view .event.span2 {\n\twidth: calc((200% / 7) - 0.05em);\n}\n.calendar-view .event.span3 {\n\twidth: calc((300% / 7) - 0.05em);\n\ttext-align: center;\n}\n.calendar-view .event.span4 {\n\twidth: calc((400% / 7) - 0.05em);\n\ttext-align: center;\n}\n.calendar-view .event.span5 {\n\twidth: calc((500% / 7) - 0.05em);\n\ttext-align: center;\n}\n.calendar-view .event.span6 {\n\twidth: calc((600% / 7) - 0.05em);\n\ttext-align: center;\n}\n.calendar-view .event.span7 {\n\twidth: calc((700% / 7) - 0.05em);\n\ttext-align: center;\n}\n',"",{version:3,sources:["/var/www/Automation/vue-browser-components/src/src/CalendarView.vue"],names:[],mappings:";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+iBA,mBAAA;;AAEA,uCAAA;AACA;CACA,qBAAA;CAAA,qBAAA;CAAA,cAAA;CACA,6BAAA;CAAA,8BAAA;KAAA,2BAAA;SAAA,uBAAA;CACA;AAEA;CACA,qBAAA;CAAA,qBAAA;CAAA,cAAA;CACA,oBAAA;KAAA,mBAAA;SAAA,eAAA;CACA,+BAAA;CAAA,8BAAA;KAAA,0BAAA;SAAA,sBAAA;CACA,0BAAA;KAAA,uBAAA;SAAA,oBAAA;CACA,kBAAA;CACA;AAEA;CACA,qBAAA;CAAA,qBAAA;CAAA,cAAA;CACA,oBAAA;KAAA,mBAAA;SAAA,eAAA;CACA,+BAAA;CAAA,8BAAA;KAAA,0BAAA;SAAA,sBAAA;CACA,kBAAA;CACA;AAEA;CACA,qBAAA;CAAA,qBAAA;CAAA,cAAA;CACA,oBAAA;KAAA,mBAAA;SAAA,eAAA;CACA,+BAAA;CAAA,8BAAA;KAAA,0BAAA;SAAA,sBAAA;CACA;AAEA;CACA,qBAAA;CAAA,qBAAA;CAAA,cAAA;CACA,oBAAA;KAAA,kBAAA;SAAA,YAAA;CACA,+BAAA;CAAA,8BAAA;KAAA,0BAAA;SAAA,sBAAA;CACA,0BAAA;KAAA,uBAAA;SAAA,oBAAA;CACA,yBAAA;KAAA,sBAAA;SAAA,wBAAA;CACA,mBAAA;CACA;;AAEA,mEAAA;AACA;CACA,qBAAA;CAAA,qBAAA;CAAA,cAAA;CACA,oBAAA;KAAA,mBAAA;SAAA,eAAA;CACA,6BAAA;CAAA,8BAAA;KAAA,6BAAA;SAAA,yBAAA;;CAEA,wEAAA;CACA,mBAAA;CACA,yBAAA;CACA;;AAEA,4FAAA;AACA;CACA,qBAAA;CAAA,qBAAA;CAAA,cAAA;CACA,oBAAA;KAAA,kBAAA;SAAA,YAAA;CACA,+BAAA;CAAA,8BAAA;KAAA,0BAAA;SAAA,sBAAA;CACA,gBAAA;;CAEA,sDAAA;CACA,mBAAA;CACA,YAAA;CACA,mBAAA;CACA,yBAAA;CACA;AAEA;;CAEA,SAAA,CAAA,4BAAA;CACA,wBAAA,CAAA,6CAAA;CACA;AAEA;CACA,qBAAA;CAAA,qBAAA;CAAA,cAAA;CACA,oBAAA;KAAA,kBAAA;SAAA,YAAA;CACA,yBAAA;CAAA,iBAAA,CAAA,iEAAA;CACA,OAAA;CACA;AAEA;CACA,mBAAA;CACA,QAAA;CACA,OAAA;CACA,UAAA;CACA,SAAA;CACA;AAEA;CACA,aAAA;CACA,YAAA;CACA;AAEA;CACA,mBAAA;CACA,oBAAA;CACA,iBAAA;CACA,0BAAA;CACA;;AAEA,YAAA;AAEA;;;;;CAKA,eAAA;CACA;AAEA;;;CAGA,uBAAA;CACA;AAEA;;CAEA,gBAAA;CACA;AAEA;;;;;;;;;;;CAWA,cAAA;CACA;;AAEA,+BAAA;AAEA;CACA,aAAA;CACA;AAEA;CACA,aAAA;CACA;AAEA;CACA,cAAA;CACA;AAEA;CACA,cAAA;CACA;AAEA;CACA,cAAA;CACA;AAEA;;CAEA,sBAAA;CACA;AAEA;CACA,iBAAA;CACA;AAEA;CACA,iBAAA;CACA;;AAEA,YAAA;AAEA;;;;;;;CAOA,oBAAA;CACA,mBAAA;CACA;;AAEA,iBAAA;AAEA;;CAEA,oBAAA;CACA;AAEA;CACA,aAAA;CACA;;AAEA,sBAAA;AAEA;;;CAGA,+BAAA;SAAA,uBAAA;CACA,iBAAA;CACA,eAAA;CACA;AAEA;;;CAGA,eAAA;CACA;AAEA;;CAEA,oBAAA;CACA;AAEA;;CAEA,qBAAA;CACA;;AAEA,iIAAA;AACA;CACA,oBAAA;CACA;;AAEA,aAAA;AAEA;CACA,gBAAA;CACA;AAEA;CACA,0BAAA;CACA;AAEA;CACA,4BAAA;CACA;AAEA;CACA,wBAAA;CACA;AAEA;CACA,0BAAA;CACA;AAEA;;CAEA,kBAAA;CACA;;AAEA,qCAAA;AAEA;CACA,WAAA;CACA;AAEA;CACA,2BAAA;CACA;AAEA;CACA,2BAAA;CACA;AAEA;CACA,2BAAA;CACA;AAEA;CACA,2BAAA;CACA;AAEA;CACA,4BAAA;CACA;AAEA;CACA,4BAAA;CACA;AAEA;CACA,4BAAA;CACA;AAEA;CACA,4BAAA;CACA;AAEA;CACA,6BAAA;CACA;AAEA;CACA,6BAAA;CACA;AAEA;CACA,6BAAA;CACA;AAEA;CACA,6BAAA;CACA;AAEA;CACA,6BAAA;CACA;AAEA;CACA,6BAAA;CACA;AAEA;CACA,6BAAA;CACA;AAEA;CACA,6BAAA;CACA;AAEA;CACA,6BAAA;CACA;AAEA;CACA,6BAAA;CACA;AAEA;CACA,6BAAA;CACA;AAEA;CACA,cAAA;CACA,CAAA,oDAAA;AAEA;CACA,QAAA;CACA;AAEA;CACA,uBAAA;CACA;AAEA;CACA,uBAAA;CACA;AAEA;CACA,uBAAA;CACA;AAEA;CACA,uBAAA;CACA;AAEA;CACA,uBAAA;CACA;AAEA;CACA,uBAAA;CACA;;AAEA,uCAAA;AAEA;CACA,iCAAA;CACA;AAEA;CACA,iCAAA;CACA;AAEA;CACA,iCAAA;CACA,mBAAA;CACA;AAEA;CACA,iCAAA;CACA,mBAAA;CACA;AAEA;CACA,iCAAA;CACA,mBAAA;CACA;AAEA;CACA,iCAAA;CACA,mBAAA;CACA;AAEA;CACA,iCAAA;CACA,mBAAA;CACA",file:"CalendarView.vue",sourcesContent:['<template>\n\t<div :class="[\n\t\t\t\'locale-\' + languageCode(displayLocale),\n\t\t\t\'locale-\' + displayLocale,\n\t\t\t\'y\' + periodStart.getFullYear(),\n\t\t\t\'m\' + paddedMonth(periodStart),\n\t\t\t\'period-\' + displayPeriodUom,\n\t\t\t\'periodCount-\' + displayPeriodCount,\n\t\t\t{\n\t\t\t\tpast: isPastMonth(periodStart),\n\t\t\t\tfuture: isFutureMonth(periodStart),\n\t\t\t\tnoIntl: !supportsIntl,\n\t\t\t}]"\n\t\tclass="calendar-view">\n\t\t<slot name="header">\n\t\t\t<div class="header">\n\t\t\t\t<div class="nav">\n\t\t\t\t\t<button :disabled="!isPeriodIncrementAllowed(-12)" class="previousYear" @click="onIncrementPeriod(-12)"/>\n\t\t\t\t\t<button :disabled="!isPeriodIncrementAllowed(-displayPeriodCount)" class="previousPeriod" @click="onIncrementPeriod(-displayPeriodCount)"/>\n\t\t\t\t\t<button :disabled="!isPeriodIncrementAllowed(displayPeriodCount)" class="nextPeriod" @click="onIncrementPeriod(displayPeriodCount)"/>\n\t\t\t\t\t<button :disabled="!isPeriodIncrementAllowed(12)" class="nextYear" @click="onIncrementPeriod(12)"/>\n\t\t\t\t\t<button class="currentPeriod" @click="onClickCurrentPeriod"/>\n\t\t\t\t</div>\n\t\t\t\t<div :class="{ \n\t\t\t\t\t\tsingleYear: periodStart.getFullYear() === periodEnd.getFullYear(), \n\t\t\t\t\t\tsingleMonth: isSameMonth(periodStart, periodEnd) }"\n\t\t\t\t\tclass="periodLabel">\n\t\t\t\t\t<div class="startMonth">{{ monthNames[periodStart.getMonth()] }}</div>\n\t\t\t\t\t<div class="startDay">{{ periodStart.getDate() }}</div>\n\t\t\t\t\t<div class="startYear">{{ periodStart.getFullYear() }}</div>\n\t\t\t\t\t<div class="endMonth">{{ monthNames[periodEnd.getMonth()] }}</div>\n\t\t\t\t\t<div class="endDay">{{ periodEnd.getDate() }}</div>\n\t\t\t\t\t<div class="endYear">{{ periodEnd.getFullYear() }}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</slot>\n\t\t<div class="dayList">\n\t\t\t<template v-for="(label, index) in weekdayNames">\n\t\t\t\t<slot :index="index" :label="label" name="dayHeader">\n\t\t\t\t\t<div :key="index" :class="\'dow\'+index" class="day">{{ label }}</div>\n\t\t\t\t</slot>\n\t\t\t</template>\n\t\t</div>\n\t\t<div class="weeks">\n\t\t\t<div v-for="(weekStart, weekIndex) in weeksOfPeriod"\n\t\t\t\t:key="weekIndex"\n\t\t\t\t:class="[\'week\' + (weekIndex+1), \'ws\' + isoYearMonthDay(weekStart)]"\n\t\t\t\t:style="\'z-index:\' + ((weekIndex + 1) * 2)"\n\t\t\t\tclass="week">\n\t\t\t\t<div v-for="(day, dayIndex) in daysOfWeek(weekStart)"\n\t\t\t\t\t:key="dayIndex"\n\t\t\t\t\t:class="[\n\t\t\t\t\t\t\'dow\' + day.getDay(),\n\t\t\t\t\t\t\'d\' + isoYearMonthDay(day),\n\t\t\t\t\t\t\'d\' + isoMonthDay(day),\n\t\t\t\t\t\t\'d\' + paddedDay(day),\n\t\t\t\t\t\t\'instance\' + instanceOfMonth(day),\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\toutsideOfMonth: !isSameMonth(day, defaultedShowDate),\n\t\t\t\t\t\t\ttoday: isSameDate(day, today()),\n\t\t\t\t\t\t\tpast: isInPast(day),\n\t\t\t\t\t\t\tfuture: isInFuture(day),\n\t\t\t\t\t\t\tlast: isLastDayOfMonth(day),\n\t\t\t\t\t\t\tlastInstance: isLastInstanceOfMonth(day),\n\t\t\t\t\t\t}\n\t\t\t\t\t]"\n\t\t\t\t\tclass="day"\n\t\t\t\t\t@click="onClickDay(day)"\n\t\t\t\t\t@drop.prevent="onDrop(day, $event)"\n\t\t\t\t\t@dragover.prevent="onDragOver(day)"\n\t\t\t\t\t@dragenter.prevent="onDragEnter(day, $event)"\n\t\t\t\t\t@dragleave.prevent="onDragLeave(day, $event)">\n\t\t\t\t\t<div class="content">\n\t\t\t\t\t\t<slot :day="day" name="dayContent">\n\t\t\t\t\t\t\t<div class="date">{{ day.getDate() }}</div>\n\t\t\t\t\t\t</slot>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<template v-for="e in getWeekEvents(weekStart)">\n\t\t\t\t\t<slot :event="e" :weekStartDate="weekStart" :zIndex="getEventZIndex(weekIndex)" name="event">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t:key="e.id"\n\t\t\t\t\t\t\t:draggable="enableDragDrop"\n\t\t\t\t\t\t\t:class="e.classes"\n\t\t\t\t\t\t\t:title="e.title"\n\t\t\t\t\t\t\t:style="\'z-index:\' + getEventZIndex(weekIndex)"\n\t\t\t\t\t\t\tclass="event"\n\t\t\t\t\t\t\t@dragstart="onDragStart(e)"\n\t\t\t\t\t\t\t@click.stop="onClickEvent(e)"\n\t\t\t\t\t\t\tv-html="getEventTitle(e)"/>\n\t\t\t\t\t</slot>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport CalendarMathMixin from "../node_modules/vue-simple-calendar"\n\nexport default {\n\tname: "CalendarView",\n\n\tmixins: [CalendarMathMixin],\n\n\tprops: {\n\t\tshowDate: {\n\t\t\ttype: Date,\n\t\t\tdefault() {\n\t\t\t\treturn undefined\n\t\t\t},\n\t\t},\n\t\tdisplayPeriodUom: {\n\t\t\ttype: String,\n\t\t\tdefault() {\n\t\t\t\treturn "month"\n\t\t\t},\n\t\t},\n\t\tdisplayPeriodCount: {\n\t\t\ttype: Number,\n\t\t\tdefault() {\n\t\t\t\treturn 1\n\t\t\t},\n\t\t},\n\t\tlocale: {\n\t\t\ttype: String,\n\t\t\tdefault() {\n\t\t\t\treturn undefined\n\t\t\t},\n\t\t},\n\t\tmonthNameFormat: {\n\t\t\ttype: String,\n\t\t\tdefault() {\n\t\t\t\treturn "long"\n\t\t\t},\n\t\t},\n\t\tweekdayNameFormat: {\n\t\t\ttype: String,\n\t\t\tdefault() {\n\t\t\t\treturn "short"\n\t\t\t},\n\t\t},\n\t\tshowEventTimes: {\n\t\t\ttype: Boolean,\n\t\t\tdefault() {\n\t\t\t\treturn false\n\t\t\t},\n\t\t},\n\t\ttimeFormatOptions: {\n\t\t\ttype: Object,\n\t\t\tdefault() {\n\t\t\t\treturn {}\n\t\t\t},\n\t\t},\n\t\tdisablePast: {\n\t\t\ttype: Boolean,\n\t\t\tdefault() {\n\t\t\t\treturn false\n\t\t\t},\n\t\t},\n\t\tdisableFuture: {\n\t\t\ttype: Boolean,\n\t\t\tdefault() {\n\t\t\t\treturn false\n\t\t\t},\n\t\t},\n\t\tenableDragDrop: {\n\t\t\ttype: Boolean,\n\t\t\tdefault() {\n\t\t\t\treturn false\n\t\t\t},\n\t\t},\n\t\tstartingDayOfWeek: {\n\t\t\ttype: Number,\n\t\t\tdefault() {\n\t\t\t\treturn 0\n\t\t\t},\n\t\t},\n\t\tevents: {\n\t\t\ttype: Array,\n\t\t\tdefault() {\n\t\t\t\treturn []\n\t\t\t},\n\t\t},\n\t},\n\n\tdata: function() {\n\t\treturn {\n\t\t\tcurrentDragEvent: null,\n\t\t}\n\t},\n\n\tcomputed: {\n\t\t/*\n\t\tProps cannot default to computed/method returns, so create defaulted version of this\n\t\tproperty and use it rather than the bare prop (Vue Issue #6013).\n\t\t*/\n\t\tdisplayLocale() {\n\t\t\treturn this.locale || this.getDefaultBrowserLocale()\n\t\t},\n\n\t\t/*\n\t\tShowDate, but defaulted to today. Needed both for periodStart below and for the\n\t\t"outside of month" class.\n\t\t*/\n\t\tdefaultedShowDate() {\n\t\t\treturn this.showDate || this.today()\n\t\t},\n\n\t\t/*\n\t\tGiven the showDate, defaulted to today, computes the beginning and end of the period\n\t\tthat the date falls within.\n\t\t*/\n\t\tperiodStart() {\n\t\t\treturn this.beginningOfPeriod(\n\t\t\t\tthis.defaultedShowDate,\n\t\t\t\tthis.displayPeriodUom,\n\t\t\t\tthis.startingDayOfWeek\n\t\t\t)\n\t\t},\n\n\t\tperiodEnd() {\n\t\t\treturn this.addDays(\n\t\t\t\tthis.incrementPeriod(\n\t\t\t\t\tthis.periodStart,\n\t\t\t\t\tthis.displayPeriodUom,\n\t\t\t\t\tthis.displayPeriodCount\n\t\t\t\t),\n\t\t\t\t-1\n\t\t\t)\n\t\t},\n\n\t\t/*\n\t\tFor month and year views, the first and last dates displayed in the grid may not\n\t\tbe the same as the intended period, since the period may not start and stop evenly\n\t\ton the starting day of the week.\n\t\t*/\n\t\tdisplayFirstDate() {\n\t\t\treturn this.beginningOfWeek(this.periodStart, this.startingDayOfWeek)\n\t\t},\n\n\t\tdisplayLastDate() {\n\t\t\treturn this.endOfWeek(this.periodEnd, this.startingDayOfWeek)\n\t\t},\n\n\t\t/*\n\t\tCreate an array of dates, where each date represents the beginning of a week that\n\t\tshould be rendered in the view for the current period.\n\t\t*/\n\t\tweeksOfPeriod() {\n\t\t\t// Returns an array of object representing the date of the beginning of each week\n\t\t\t// included in the view.\n\t\t\tconst numWeeks = Math.floor(\n\t\t\t\t(this.dayDiff(this.displayFirstDate, this.displayLastDate) + 1) / 7\n\t\t\t)\n\t\t\treturn Array(numWeeks)\n\t\t\t\t.fill()\n\t\t\t\t.map((_, i) => this.addDays(this.displayFirstDate, i * 7))\n\t\t},\n\n\t\t/* Cache the names based on current locale and format settings */\n\t\tmonthNames() {\n\t\t\treturn this.getFormattedMonthNames(\n\t\t\t\tthis.displayLocale,\n\t\t\t\tthis.monthNameFormat\n\t\t\t)\n\t\t},\n\t\tweekdayNames() {\n\t\t\treturn this.getFormattedWeekdayNames(\n\t\t\t\tthis.displayLocale,\n\t\t\t\tthis.weekdayNameFormat,\n\t\t\t\tthis.startingDayOfWeek\n\t\t\t)\n\t\t},\n\n\t\t/*\n\t\tBefore doing with with events, we need a normalized version of each event that has a\n\t\tparsed startDate, a parsed or defaulted endDate, and a defaulted title and id. We\n\t\talso need a guarantee that the `classes` attribute is an array, not a single class\n\t\tstring or null. A reference to the original event is kept.\n\t\t*/\n\t\tfixedEvents() {\n\t\t\tvar vm = this\n\t\t\treturn this.events.map(function(event) {\n\t\t\t\t// Classes may be a string, an array, or null. Coalesce to an array\n\t\t\t\tlet fixedClasses = []\n\t\t\t\tif (event.classes) {\n\t\t\t\t\tif (Array.isArray(event.classes)) {\n\t\t\t\t\t\tfixedClasses = [...event.classes]\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfixedClasses = [event.classes]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\toriginalEvent: event,\n\t\t\t\t\tstartDate: vm.toLocalDate(event.startDate),\n\t\t\t\t\tendDate: vm.toLocalDate(event.endDate || event.startDate),\n\t\t\t\t\tclasses: fixedClasses,\n\t\t\t\t\ttitle: event.title || "Untitled",\n\t\t\t\t\tid:\n\t\t\t\t\t\tevent.id ||\n\t\t\t\t\t\t"e" +\n\t\t\t\t\t\t\tMath.random()\n\t\t\t\t\t\t\t\t.toString(36)\n\t\t\t\t\t\t\t\t.substr(2, 10),\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t},\n\n\tmethods: {\n\t\t// ******************************\n\t\t// UI Events\n\t\t// ******************************\n\n\t\tonClickDay(day) {\n\t\t\tif (this.disablePast && this.isInPast(day)) return\n\t\t\tif (this.disableFuture && this.isInFuture(day)) return\n\t\t\tthis.$emit("click-date", day)\n\t\t},\n\n\t\tonClickEvent(e, day) {\n\t\t\tthis.$emit("click-event", e, day)\n\t\t},\n\n\t\tonClickCurrentPeriod() {\n\t\t\tconst newValue = this.beginningOfPeriod(\n\t\t\t\tthis.today(),\n\t\t\t\tthis.displayPeriodUom,\n\t\t\t\tthis.startingDayOfWeek\n\t\t\t)\n\t\t\tthis.$emit("show-date-change", newValue)\n\t\t},\n\n\t\t// ******************************\n\t\t// Date Periods\n\t\t// ******************************\n\n\t\t/*\n\t\tReturns a date for the current display date moved forward or backward by a given\n\t\tnumber of the current display units. Returns null if said move would result in a\n\t\tdisallowed display period.\n\t\t*/\n\t\tgetIncrementedPeriod(count) {\n\t\t\tconst newStartDate = this.incrementPeriod(\n\t\t\t\tthis.periodStart,\n\t\t\t\tthis.displayPeriodUom,\n\t\t\t\tcount\n\t\t\t)\n\t\t\tconst newEndDate = this.incrementPeriod(\n\t\t\t\tnewStartDate,\n\t\t\t\tthis.displayPeriodUom,\n\t\t\t\tthis.displayPeriodCount\n\t\t\t)\n\t\t\tif (this.disablePast && newEndDate <= this.today()) return null\n\t\t\tif (this.disableFuture && newStartDate > this.today()) return null\n\t\t\treturn newStartDate\n\t\t},\n\n\t\tisPeriodIncrementAllowed(count) {\n\t\t\treturn this.getIncrementedPeriod(count) !== null\n\t\t},\n\n\t\tonIncrementPeriod(count) {\n\t\t\tconst d = this.getIncrementedPeriod(count)\n\t\t\tif (d != null) {\n\t\t\t\tthis.$emit("show-date-change", d)\n\t\t\t}\n\t\t},\n\n\t\t// ******************************\n\t\t// Drag and drop events\n\t\t// ******************************\n\n\t\tonDragStart(calendarEvent) {\n\t\t\tif (!this.enableDragDrop) return false\n\t\t\t// Not using dataTransfer.setData to store the event ID because it (a) doesn\'t allow access to the data being\n\t\t\t// dragged during dragover, dragenter, and dragleave events, and because storing an ID requires an unnecessary\n\t\t\t// lookup. This does limit the drop zones to areas within this instance of this component.\n\t\t\tthis.currentDragEvent = calendarEvent\n\t\t\tthis.$emit("drag-start", calendarEvent)\n\t\t\treturn true\n\t\t},\n\n\t\thandleEvent(bubbleEventName, bubbleParam) {\n\t\t\tif (!this.enableDragDrop) return false\n\t\t\tif (!this.currentDragEvent) return false // shouldn\'t happen\n\t\t\tthis.$emit(bubbleEventName, this.currentDragEvent, bubbleParam)\n\t\t\treturn true\n\t\t},\n\n\t\tonDragOver(day) {\n\t\t\tthis.handleEvent("drag-over-date", day)\n\t\t},\n\n\t\tonDragEnter(day, windowEvent) {\n\t\t\tif (!this.handleEvent("drag-enter-date", day)) return\n\t\t\twindowEvent.target.classList.add("draghover")\n\t\t},\n\n\t\tonDragLeave(day, windowEvent) {\n\t\t\tif (!this.handleEvent("drag-leave-date", day)) return\n\t\t\twindowEvent.target.classList.remove("draghover")\n\t\t},\n\n\t\tonDrop(day, windowEvent) {\n\t\t\tif (!this.handleEvent("drop-on-date", day)) return\n\t\t\twindowEvent.target.classList.remove("draghover")\n\t\t},\n\n\t\t// ******************************\n\t\t// Calendar Events\n\t\t// ******************************\n\n\t\tfindAndSortEventsInWeek(weekStart) {\n\t\t\t// Return a list of events that INCLUDE any day of a week starting on a\n\t\t\t// particular day. Sorted so the events that start earlier are always\n\t\t\t// shown first.\n\t\t\tconst events = this.fixedEvents\n\t\t\t\t.filter(\n\t\t\t\t\tevent =>\n\t\t\t\t\t\tevent.startDate < this.addDays(weekStart, 7) &&\n\t\t\t\t\t\tevent.endDate >= weekStart,\n\t\t\t\t\tthis\n\t\t\t\t)\n\t\t\t\t.sort((a, b) => {\n\t\t\t\t\tif (a.startDate < b.startDate) return -1\n\t\t\t\t\tif (b.startDate < a.startDate) return 1\n\t\t\t\t\tif (a.endDate > b.endDate) return -1\n\t\t\t\t\tif (b.endDate > a.endDate) return 1\n\t\t\t\t\treturn a.id < b.id ? -1 : 1\n\t\t\t\t})\n\t\t\treturn events\n\t\t},\n\n\t\tgetWeekEvents(weekStart) {\n\t\t\t// Return a list of events that CONTAIN the week starting on a day.\n\t\t\t// Sorted so the events that start earlier are always shown first.\n\t\t\tconst events = this.findAndSortEventsInWeek(weekStart)\n\t\t\tconst results = []\n\t\t\t// Surely there\'s a better way, Prettier?\n\t\t\tconst eventRows = [\n\t\t\t\t[],\n\t\t\t\t[],\n\t\t\t\t[],\n\t\t\t\t[],\n\t\t\t\t[],\n\t\t\t\t[],\n\t\t\t\t[],\n\t\t\t\t[],\n\t\t\t\t[],\n\t\t\t\t[],\n\t\t\t\t[],\n\t\t\t\t[],\n\t\t\t\t[],\n\t\t\t\t[],\n\t\t\t\t[],\n\t\t\t\t[],\n\t\t\t\t[],\n\t\t\t\t[],\n\t\t\t\t[],\n\t\t\t\t[],\n\t\t\t]\n\t\t\tfor (let i = 0; i < events.length; i++) {\n\t\t\t\tconst ep = Object.assign({}, events[i], {\n\t\t\t\t\tclasses: [...events[i].classes],\n\t\t\t\t\teventRow: 0,\n\t\t\t\t})\n\t\t\t\tconst continued = ep.startDate < weekStart\n\t\t\t\tconst startOffset = continued\n\t\t\t\t\t? 0\n\t\t\t\t\t: this.dayDiff(weekStart, ep.startDate)\n\t\t\t\tconst span = Math.min(\n\t\t\t\t\t7 - startOffset,\n\t\t\t\t\tthis.dayDiff(this.addDays(weekStart, startOffset), ep.endDate) + 1\n\t\t\t\t)\n\t\t\t\tif (continued) ep.classes.push("continued")\n\t\t\t\tif (this.dayDiff(weekStart, ep.endDate) > 6)\n\t\t\t\t\tep.classes.push("toBeContinued")\n\t\t\t\tif (ep.originalEvent.url) ep.classes.push("hasUrl")\n\t\t\t\tfor (let d = 0; d < 7; d++) {\n\t\t\t\t\tif (d === startOffset) {\n\t\t\t\t\t\tfor (let s = 0; s < 20; s++) {\n\t\t\t\t\t\t\tif (!eventRows[d][s]) {\n\t\t\t\t\t\t\t\tep.eventRow = s\n\t\t\t\t\t\t\t\teventRows[d][s] = true\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (d < startOffset + span) {\n\t\t\t\t\t\teventRows[d][ep.eventRow] = true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tep.classes.push(`offset${startOffset}`)\n\t\t\t\tep.classes.push(`span${span}`)\n\t\t\t\tep.classes.push(`eventRow${ep.eventRow + 1}`)\n\t\t\t\tresults.push(ep)\n\t\t\t}\n\t\t\treturn results\n\t\t},\n\n\t\t/*\n\t\tCreates the HTML to prefix the event title showing the event\'s start and/or\n\t\tend time. Midnight is not displayed.\n\t\t*/\n\t\tgetFormattedTimeRange(e) {\n\t\t\tconst startTime = this.formattedTime(\n\t\t\t\te.startDate,\n\t\t\t\tthis.displayLocale,\n\t\t\t\tthis.timeFormatOptions\n\t\t\t)\n\t\t\tconst endTime = this.isSameDateTime(e.startDate, e.endDate)\n\t\t\t\t? ""\n\t\t\t\t: this.formattedTime(\n\t\t\t\t\t\te.endDate,\n\t\t\t\t\t\tthis.displayLocale,\n\t\t\t\t\t\tthis.timeFormatOptions\n\t\t\t\t\t)\n\t\t\tconst hasStart = startTime !== ""\n\t\t\tconst hasEnd = endTime !== ""\n\t\t\treturn (\n\t\t\t\t(hasStart\n\t\t\t\t\t? `<span class="startTime${\n\t\t\t\t\t\t\thasEnd ? " hasEndTime" : ""\n\t\t\t\t\t\t}">${startTime}</span>`\n\t\t\t\t\t: "") +\n\t\t\t\t(hasEnd\n\t\t\t\t\t? `<span class="endTime${\n\t\t\t\t\t\t\thasStart ? " hasStartTime" : ""\n\t\t\t\t\t\t}">${endTime}</span>`\n\t\t\t\t\t: "")\n\t\t\t)\n\t\t},\n\n\t\tgetEventTitle(e) {\n\t\t\tif (!this.showEventTimes) return e.title\n\t\t\treturn this.getFormattedTimeRange(e) + e.title\n\t\t},\n\n\t\t/*\n\t\tComputes the z-index of an event based on which week is being rendered. This ensures\n\t\tthat event are on top of the week where they are rendered, but below the week below\n\t\tthem. This is essential for being able to handle more events on a given week than\n\t\tthere is room to display.\n\t\t*/\n\t\tgetEventZIndex(weekIndex) {\n\t\t\treturn (weekIndex + 1) * 2 + 1\n\t\t},\n\t},\n}\n<\/script>\n\x3c!--\n\nThe CSS below represents only the CSS required for proper rendering (positioning, etc.) and\nminimalist default borders and colors. Special-day colors, holiday emoji, event colors,\nand decorations like border-radius should be part of a theme.\n\n--\x3e\n<style type="text/css">\n/* Position/Flex */\n\n/* Make the calendar flex vertically */\n.calendar-view {\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.calendar-view .header {\n\tdisplay: flex;\n\tflex: 0 1 auto;\n\tflex-flow: row nowrap;\n\talign-items: center;\n\tmin-height: 2.5em;\n}\n\n.calendar-view .header .periodLabel {\n\tdisplay: flex;\n\tflex: 1 1 auto;\n\tflex-flow: row nowrap;\n\tmin-height: 1.2em;\n}\n\n.calendar-view .dayList {\n\tdisplay: flex;\n\tflex: 0 0 auto;\n\tflex-flow: row nowrap;\n}\n\n.calendar-view .dayList .day {\n\tdisplay: flex;\n\tflex: 1 1 0;\n\tflex-flow: row nowrap;\n\talign-items: center;\n\tjustify-content: center;\n\ttext-align: center;\n}\n\n/* The calendar grid should take up the remaining vertical space */\n.calendar-view .weeks {\n\tdisplay: flex;\n\tflex: 1 1 auto;\n\tflex-flow: column nowrap;\n\n\t/* Allow grid to scroll if there are too may weeks to fit in the view */\n\toverflow-y: scroll;\n\t-ms-overflow-style: none;\n}\n\n/* Use flex basis of 0 on week row so all weeks will be same height regardless of content */\n.calendar-view .week {\n\tdisplay: flex;\n\tflex: 1 1 0;\n\tflex-flow: row nowrap;\n\tmin-height: 3em;\n\n\t/* Allow week events to scroll if they are too tall */\n\tposition: relative;\n\twidth: 100%;\n\toverflow-y: scroll;\n\t-ms-overflow-style: none;\n}\n\n.calendar-view .weeks::-webkit-scrollbar,\n.calendar-view .week::-webkit-scrollbar {\n\twidth: 0; /* remove scrollbar space */\n\tbackground: transparent; /* optional: just make scrollbar invisible */\n}\n\n.calendar-view .week .day {\n\tdisplay: flex;\n\tflex: 1 1 0;\n\tposition: sticky; /* When week\'s events are scrolled, keep the day content fixed */\n\ttop: 0;\n}\n\n.calendar-view .day .content {\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\tbottom: 0;\n\tright: 0;\n}\n\n.calendar-view .day .date {\n\tfloat: right;\n\tclear: both;\n}\n\n.calendar-view .event {\n\tposition: absolute;\n\twhite-space: nowrap;\n\toverflow: hidden;\n\tbackground-color: #f7f7f7;\n}\n\n/* Header */\n\n.calendar-view .periodLabel .startDay::before,\n.calendar-view .periodLabel .endDay::before,\n.calendar-view.period-month .periodLabel .startYear::before,\n.calendar-view.period-month .periodLabel .endYear::before,\n.calendar-view.period-year .periodLabel .endYear::before {\n\tcontent: "\\00A0";\n}\n\n.calendar-view .periodLabel .endMonth::before,\n.calendar-view.period-year:not(.periodCount-1) .periodLabel .endYear::before,\n.calendar-view.period-week .periodLabel.singleMonth .endDay::before {\n\tcontent: "\\00A0\\2013\\00A0";\n}\n\n.calendar-view.period-week .periodLabel .startYear::before,\n.calendar-view.period-week .periodLabel .endYear::before {\n\tcontent: ",\\00A0";\n}\n\n.calendar-view .periodLabel.singleYear .startYear,\n.calendar-view .periodLabel.singleMonth .endMonth,\n.calendar-view.period-month .periodLabel .startDay,\n.calendar-view.period-month .periodLabel .endDay,\n.calendar-view.period-year .periodLabel .startDay,\n.calendar-view.period-year .periodLabel .endDay,\n.calendar-view.period-year .periodLabel .startMonth,\n.calendar-view.period-year .periodLabel .endMonth,\n.calendar-view.period-month.periodCount-1 .periodLabel .endMonth,\n.calendar-view.period-month.periodCount-1 .periodLabel .startYear,\n.calendar-view.period-year.periodCount-1 .periodLabel .startYear {\n\tdisplay: none;\n}\n\n/* Header navigation buttons */\n\n.calendar-view .header .nav .previousPeriod::after {\n\tcontent: "<";\n}\n\n.calendar-view .header .nav .nextPeriod::after {\n\tcontent: ">";\n}\n\n.calendar-view .header .nav .previousYear::after {\n\tcontent: "<<";\n}\n\n.calendar-view .header .nav .nextYear::after {\n\tcontent: ">>";\n}\n\n.calendar-view .header .nav .currentPeriod {\n\tdisplay: none;\n}\n\n.calendar-view.past .header .nav .currentPeriod,\n.calendar-view.future .header .nav .currentPeriod {\n\tdisplay: inline-block;\n}\n\n.calendar-view.past .header .nav .currentPeriod::after {\n\tcontent: "\\21BB";\n}\n\n.calendar-view.future .header .nav .currentPeriod::after {\n\tcontent: "\\21BA";\n}\n\n/* Colors */\n\n.calendar-view .header,\n.calendar-view button,\n.calendar-view .dayList,\n.calendar-view .weeks,\n.calendar-view .week,\n.calendar-view .day,\n.calendar-view .event {\n\tborder-style: solid;\n\tborder-color: #ddd;\n}\n\n/* Event Times */\n\n.calendar-view .event .startTime:not(.hasEndTime),\n.calendar-view .event .endTime {\n\tmargin-right: 0.4em;\n}\n\n.calendar-view .event .endTime::before {\n\tcontent: "-";\n}\n\n/* Internal Metrics */\n\n.calendar-view,\n.calendar-view div,\n.calendar-view button {\n\tbox-sizing: border-box;\n\tline-height: 1em;\n\tfont-size: 1em;\n}\n\n.calendar-view .dayList div,\n.calendar-view .date,\n.calendar-view .event {\n\tpadding: 0.2em;\n}\n\n.calendar-view .header .nav,\n.calendar-view .header .periodLabel {\n\tmargin: 0.4em 0.6em;\n}\n\n.calendar-view .header .nav button,\n.calendar-view .header .periodLabel {\n\tpadding: 0.4em 0.6em;\n}\n\n/* Allows emoji icons or labels (such as holidays) to be added more easily to specific dates by having the margin set already. */\n.calendar-view .day .date::before {\n\tmargin-right: 0.5em;\n}\n\n/* Borders */\n\n.calendar-view .week {\n\tborder-width: 0;\n}\n\n.calendar-view .weeks {\n\tborder-width: 0 0 1px 1px;\n}\n\n.calendar-view .header {\n\tborder-width: 1px 1px 0 1px;\n}\n\n.calendar-view .dayList {\n\tborder-width: 0 0 0 1px;\n}\n\n.calendar-view .day {\n\tborder-width: 1px 1px 0 0;\n}\n\n.calendar-view .header button,\n.calendar-view .event {\n\tborder-width: 1px;\n}\n\n/* Positioning for event eventRows */\n\n.calendar-view .event.eventRow1 {\n\ttop: 1.4em;\n}\n\n.calendar-view .event.eventRow2 {\n\ttop: calc(2 * 1.4em + 2px);\n}\n\n.calendar-view .event.eventRow3 {\n\ttop: calc(3 * 1.4em + 4px);\n}\n\n.calendar-view .event.eventRow4 {\n\ttop: calc(4 * 1.4em + 6px);\n}\n\n.calendar-view .event.eventRow5 {\n\ttop: calc(5 * 1.4em + 8px);\n}\n\n.calendar-view .event.eventRow6 {\n\ttop: calc(6 * 1.4em + 10px);\n}\n\n.calendar-view .event.eventRow7 {\n\ttop: calc(7 * 1.4em + 12px);\n}\n\n.calendar-view .event.eventRow8 {\n\ttop: calc(8 * 1.4em + 14px);\n}\n\n.calendar-view .event.eventRow9 {\n\ttop: calc(9 * 1.4em + 16px);\n}\n\n.calendar-view .event.eventRow10 {\n\ttop: calc(10 * 1.4em + 18px);\n}\n\n.calendar-view .event.eventRow11 {\n\ttop: calc(11 * 1.4em + 20px);\n}\n\n.calendar-view .event.eventRow12 {\n\ttop: calc(12 * 1.4em + 22px);\n}\n\n.calendar-view .event.eventRow13 {\n\ttop: calc(13 * 1.4em + 24px);\n}\n\n.calendar-view .event.eventRow14 {\n\ttop: calc(14 * 1.4em + 26px);\n}\n\n.calendar-view .event.eventRow15 {\n\ttop: calc(15 * 1.4em + 28px);\n}\n\n.calendar-view .event.eventRow16 {\n\ttop: calc(16 * 1.4em + 30px);\n}\n\n.calendar-view .event.eventRow17 {\n\ttop: calc(17 * 1.4em + 32px);\n}\n\n.calendar-view .event.eventRow18 {\n\ttop: calc(18 * 1.4em + 34px);\n}\n\n.calendar-view .event.eventRow19 {\n\ttop: calc(19 * 1.4em + 36px);\n}\n\n.calendar-view .event.eventRow20 {\n\ttop: calc(20 * 1.4em + 38px);\n}\n\n.calendar-view .event.eventRow0 {\n\tdisplay: none;\n} /* More than 20 eventRows not currently supported */\n\n.calendar-view .event.offset0 {\n\tleft: 0;\n}\n\n.calendar-view .event.offset1 {\n\tleft: calc((100% / 7));\n}\n\n.calendar-view .event.offset2 {\n\tleft: calc((200% / 7));\n}\n\n.calendar-view .event.offset3 {\n\tleft: calc((300% / 7));\n}\n\n.calendar-view .event.offset4 {\n\tleft: calc((400% / 7));\n}\n\n.calendar-view .event.offset5 {\n\tleft: calc((500% / 7));\n}\n\n.calendar-view .event.offset6 {\n\tleft: calc((600% / 7));\n}\n\n/* Metrics for events spanning dates */\n\n.calendar-view .event.span1 {\n\twidth: calc((100% / 7) - 0.05em);\n}\n\n.calendar-view .event.span2 {\n\twidth: calc((200% / 7) - 0.05em);\n}\n\n.calendar-view .event.span3 {\n\twidth: calc((300% / 7) - 0.05em);\n\ttext-align: center;\n}\n\n.calendar-view .event.span4 {\n\twidth: calc((400% / 7) - 0.05em);\n\ttext-align: center;\n}\n\n.calendar-view .event.span5 {\n\twidth: calc((500% / 7) - 0.05em);\n\ttext-align: center;\n}\n\n.calendar-view .event.span6 {\n\twidth: calc((600% / 7) - 0.05em);\n\ttext-align: center;\n}\n\n.calendar-view .event.span7 {\n\twidth: calc((700% / 7) - 0.05em);\n\ttext-align: center;\n}\n</style>\n'],sourceRoot:""}])},function(t,n,e){var a=e(4);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals),(0,e(0).default)("e5ab858c",a,!1,{})},function(t,n,e){(t.exports=e(1)(!0)).push([t.i,"\n#cpmstd-tracking-calendar .week{\n    min-height: 80px;\n}\n","",{version:3,sources:["/var/www/Automation/vue-browser-components/src/src/cpmstd-tracking-calendar.vue"],names:[],mappings:";AA0EA;IACA,iBAAA;CACA",file:"cpmstd-tracking-calendar.vue",sourcesContent:['<template>\n    <div id="cpmstd-tracking-calendar">\n        <calendar-view\n        :events="events"\n        :show-date="showDate"\n        :enable-drag-drop="true"\n        @drop-on-date="onDrop"\n        @click-date="onClickDay"\n        @click-event="onClickEvent"\n        @show-date-change="setShowDate"\n        class="holiday-us-traditional holiday-us-official has-clickable-events"\n        />\n\n        \x3c!-- focusing on a single day --\x3e\n        <div class="modal fade" id="DayFocus" role="dialog">\n            <div class="modal-dialog modal-lg">\n                <div class="modal-content">\n                    <div class="modal-header">\n                        <button type="button" class="close" data-dismiss="modal" v-on:click="focusChanged = false" tabindex="-1">&times;</button>\n                    </div>\x3c!-- modal-header --\x3e\n                    <div class="modal-body">\n                        <cpmstd-tracking-calendar-day-focus :events="events" :dayFocus="dayFocus"></cpmstd-tracking-calendar-day-focus>\n                    </div>\n                    <div class="modal-footer">\n                        <div class="row">\n                            <div class="col-sm-12 text-right">\n                                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport CalendarView from "./CalendarView"\nexport default {\n    props: [\'events\'],\n    name: \'cpmstd-tracking-calendar\',\n    data: function() {\n        return {\n            showDate: new Date(),\n            dayFocus: null,\n        }\n    },\n    components: {\n        CalendarView\n    },\n    methods: {\n        setShowDate(d) {\n            this.showDate = d;\n        },\n        onDrop(e, d){\n            console.log(\'onDrop\');\n            console.log(e);\n            console.log(d);\n        },\n        onClickDay(e){\n            this.dayFocus = e;\n            $(\'#DayFocus\').modal(\'show\');\n            //this needs improved but for now rely on external method to load days\n            this.$emit(\'loadday\', \'loadDay\', e);\n        },\n        onClickEvent(e){\n            //this could be abstracted\n            $(\'#DatasetFocus\').modal(\'show\');\n            //loadeventobject => loadRecord\n            this.$emit(\'loadeventobject\', \'calendar\', e.originalEvent);\n        },\n    }\n};\n<\/script>\n<style>\n    #cpmstd-tracking-calendar .week{\n        min-height: 80px;\n    }\n</style>\n'],sourceRoot:""}])},function(t,n,e){var a=e(6);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals),(0,e(0).default)("2bf8fd5a",a,!1,{})}]);